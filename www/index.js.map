{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap 390ef4b5ac4358a24f9e","webpack:///./src/database/reference.ts","webpack:///./src/utils.ts","webpack:///./~/tslib/tslib.es6.js","webpack:///./src/analytics/index.ts","webpack:///./src/auth/index.ts","webpack:///./src/auth/user-info.ts","webpack:///./src/auth/user.ts","webpack:///./src/database/data-snapshot.ts","webpack:///./src/database/index.ts","webpack:///./src/database/on-disconnect.ts","webpack:///./src/database/query.ts","webpack:///./src/database/utils/path.ts","webpack:///./src/messaging/index.ts","webpack:///./src/remote-config/index.ts","webpack:///./src/index.ts","webpack:///./src/app.ts","webpack:///./src/auth/providers.ts","webpack:///./src/database/utils/push-key.ts","webpack:///external \"cordova/exec\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_tslib__","__WEBPACK_IMPORTED_MODULE_1__query__","__WEBPACK_IMPORTED_MODULE_2__on_disconnect__","__WEBPACK_IMPORTED_MODULE_3__utils_push_key__","Reference","ThenableReference","_super","path","db","this","_path","key","parent","_db","child","set","_this","Error","Promise","resolve","reject","_exec","toString","remove","push","pushKey","thenableRef","setPriority","priority","setWithPriority",".value",".priority","transaction","update","onDisconnect","apply","arguments","_promise","then","onfulfilled","onrejected","catch","getValueType","type","Array","isArray","__WEBPACK_IMPORTED_MODULE_0_cordova_exec__","__WEBPACK_IMPORTED_MODULE_0_cordova_exec___default","a","isInteger","Number","isFinite","Math","floor","__extends","b","__","constructor","extendStatics","create","__assign","setPrototypeOf","__proto__","assign","t","length","Analytics","_app","getInstance","app","_instance","success","error","action","args","_execWithoutName","logEvent","params","setScreenName","setUserId","id","setUserProperty","__WEBPACK_IMPORTED_MODULE_0__utils__","__WEBPACK_IMPORTED_MODULE_1__user__","__WEBPACK_IMPORTED_MODULE_2__providers__","__WEBPACK_IMPORTED_MODULE_3__user_info__","Auth","_currentUser","_authListenerId","_authListeners","concat","applyActionCode","code","checkActionCode","email","data","createUserWithEmailAndPassword","password","internalUserInfo","fetchProvidersForEmail","onAuthStateChanged","callback","errorFn","completeFn","listenerId","keys","_attachAuthStateChangeListener","_removeAuthStateListener","signInAnonymously","signInWithCredential","credential","signInWithCustomToken","token","signInWithEmailAndPassword","signOut","sendPasswordResetEmail","verifyPasswordResetCode","confirmPasswordReset","newPassword","listener","_detachAuthStateChangeListener","reason","UserInfo","_internalUser","uid","displayName","photoURL","providerId","__WEBPACK_IMPORTED_MODULE_1__utils__","__WEBPACK_IMPORTED_MODULE_2__user_info__","User","_auth","internalUser","_updateProviderData","emailVerified","isAnonymous","_providerData","slice","delete","getToken","forceRefresh","reload","sendEmailVerification","updateEmail","newEmail","updatePassword","updateProfile","profile","_profile","hasDisplayName","hasPhotoURL","link","unlink","reauthenticate","toJSON","JSON","parse","stringify","providerData","forEach","providerUser","__WEBPACK_IMPORTED_MODULE_0__reference__","__WEBPACK_IMPORTED_MODULE_1__utils_path__","DataSnapshot","_value","pathParts","getParts","childKey","shift","exists","hasChild","hasChildren","_isObjectValue","some","numChildren","find","val","childFn","__WEBPACK_IMPORTED_MODULE_1__data_snapshot__","__WEBPACK_IMPORTED_MODULE_2__query__","__WEBPACK_IMPORTED_MODULE_3__on_disconnect__","Database","_listeners","_listenerCounter","ref","goOffline","goOnline","setPersistenceEnabled","isEnabled","OnDisconnect","cancel","__WEBPACK_IMPORTED_MODULE_2__utils_path__","__WEBPACK_IMPORTED_MODULE_3__reference__","__WEBPACK_IMPORTED_MODULE_4__data_snapshot__","Query","pathOrQuery","_dbOrOptions","_options","_hasOrder","startAt","valueType","endAt","equalTo","limitToFirst","limitToLast","orderByKey","orderByChild","orderByPriority","orderByValue","limit","hasOrder","isEqual","query","on","eventType","_attachListener","once","listenerID","String","_addListener","listenerEvent","_removeListener","snapshot","prevChildKey","queryOptions","off","listenerIDs","_getListenerID","_getListenerIDs","keepSynced","ids","Path","_parts","skipCheck","otherPath","join","normalize","split","test","replace","Messaging","onNotificationOpen","onTokenRefresh","grantPermission","hasPermission","setBadgeNumber","number","getBadgeNumber","subscribe","topic","unsubscribe","RemoteConfig","activateFetched","fetch","cacheExpirationSeconds","getByteArray","namespace","getValue","getInfo","setConfigSettings","settings","setDefaults","defaults","__WEBPACK_IMPORTED_MODULE_0__app__","DEFAULT_NAME","apps","initializeApp","options","defaultApp","auth","database","analytics","messaging","remoteConfig","__WEBPACK_IMPORTED_MODULE_1__auth__","__WEBPACK_IMPORTED_MODULE_2__database__","__WEBPACK_IMPORTED_MODULE_3__analytics__","__WEBPACK_IMPORTED_MODULE_4__messaging__","__WEBPACK_IMPORTED_MODULE_5__remote_config__","__WEBPACK_IMPORTED_MODULE_3__messaging__","__WEBPACK_IMPORTED_MODULE_4__analytics__","App","_name","_ready","_whenReady","console","_authInstance","_databaseInstance","EmailAuthProvider","FacebookAuthProvider","GithubAuthProvider","GoogleAuthProvider","TwitterAuthProvider","provider","PROVIDER_ID","idToken","accessToken","secret","generatePushKey","timeDiff","now","Date","isDuplicateTime","lastTime","timeStampChars","PUSH_CHARS","charAt","lastRandChars","random","require"],"mappings":"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","file":"index.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 19);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__on_disconnect__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_push_key__ = __webpack_require__(17);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Reference; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return ThenableReference; });\n\r\n\r\n\r\n\r\nvar Reference = (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](Reference, _super);\r\n    function Reference(path, db) {\r\n        return _super.call(this, path, db) || this;\r\n    }\r\n    Object.defineProperty(Reference.prototype, \"key\", {\r\n        get: function () {\r\n            return this._path.key;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Reference.prototype, \"parent\", {\r\n        get: function () {\r\n            var parent = this._path.parent;\r\n            return parent ? new Reference(parent, this._db) : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Reference.prototype, \"root\", {\r\n        get: function () {\r\n            return new Reference('/', this._db);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Reference.prototype.child = function (path) {\r\n        return new Reference(this._path.child(path), this._db);\r\n    };\r\n    Reference.prototype.set = function (value) {\r\n        var _this = this;\r\n        if (typeof value === 'undefined') {\r\n            throw new Error('Query.set: no value specified');\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'set', [_this._path.toString(), value]);\r\n        });\r\n    };\r\n    Reference.prototype.remove = function () {\r\n        return this.set(null);\r\n    };\r\n    Reference.prototype.push = function (value) {\r\n        var pushKey = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__utils_push_key__[\"a\" /* generatePushKey */])();\r\n        if (typeof value === 'undefined') {\r\n            return this.child(pushKey);\r\n        }\r\n        var thenableRef = new ThenableReference(this._path.child(pushKey), this._db);\r\n        thenableRef.set(value);\r\n        return thenableRef;\r\n    };\r\n    Reference.prototype.setPriority = function (priority) {\r\n        var newRef = new Reference(this._path.child('.priority', true), this._db);\r\n        return newRef.set(priority);\r\n    };\r\n    Reference.prototype.setWithPriority = function (value, priority) {\r\n        return this.set({\r\n            '.value': value,\r\n            '.priority': priority,\r\n        });\r\n    };\r\n    Reference.prototype.transaction = function () {\r\n        // TODO: implement this... but how? It might not be possible.\r\n        throw new Error('Transactions are not supported yet. Sorry!');\r\n    };\r\n    Reference.prototype.update = function (value) {\r\n        var _this = this;\r\n        if (typeof value === 'undefined') {\r\n            throw new Error('Query.update: no value specified');\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'update', [_this._path.toString(), value]);\r\n        });\r\n    };\r\n    Reference.prototype.onDisconnect = function () {\r\n        return new __WEBPACK_IMPORTED_MODULE_2__on_disconnect__[\"a\" /* OnDisconnect */](this._db, this._path.toString());\r\n    };\r\n    return Reference;\r\n}(__WEBPACK_IMPORTED_MODULE_1__query__[\"a\" /* Query */]));\r\n\r\nvar ThenableReference = (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](ThenableReference, _super);\r\n    function ThenableReference() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ThenableReference.prototype.set = function (value) {\r\n        this._promise = _super.prototype.set.call(this, value);\r\n        return this._promise;\r\n    };\r\n    ThenableReference.prototype.then = function (onfulfilled, onrejected) {\r\n        return this._promise.then(onfulfilled, onrejected);\r\n    };\r\n    ThenableReference.prototype.catch = function (onrejected) {\r\n        return this._promise.catch(onrejected);\r\n    };\r\n    return ThenableReference;\r\n}(Reference));\r\n\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cordova_exec__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cordova_exec___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_cordova_exec__);\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_0_cordova_exec___default.a; });\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getValueType;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return isInteger; });\n// declare module 'cordova/exec' {\r\n//     function exec(success: SuccessCallback,\r\n//                                error: ErrorCallback,\r\n//                                plugin: string,\r\n//                                action: string,\r\n//                                args: any[]): void;\r\n//     export = exec;\r\n// }\r\n\r\n\r\nfunction getValueType(value) {\r\n    if (value === void 0) {\r\n        return 'undefined';\r\n    }\r\n    if (value === null) {\r\n        return 'null';\r\n    }\r\n    var type = typeof value;\r\n    if ((type === 'number') || (type === 'string') || (type === 'boolean') || (type === 'function')) {\r\n        return type;\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return 'array';\r\n    }\r\n    if (type === 'object') {\r\n        return 'object';\r\n    }\r\n    return 'unknown';\r\n}\r\nvar isInteger = Number.isInteger || function (value) {\r\n    return (typeof value === 'number') && isFinite(value) && Math.floor(value) === value;\r\n};\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = __extends;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __assign; });\n/* unused harmony export __rest */\n/* unused harmony export __decorate */\n/* unused harmony export __param */\n/* unused harmony export __metadata */\n/* unused harmony export __awaiter */\n/* unused harmony export __generator */\n/* unused harmony export __exportStar */\n/* unused harmony export __values */\n/* unused harmony export __read */\n/* unused harmony export __spread */\n/* unused harmony export __asyncGenerator */\n/* unused harmony export __asyncDelegator */\n/* unused harmony export __asyncValues */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n};\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), q = [], c, i;\r\n    return i = { next: verb(\"next\"), \"throw\": verb(\"throw\"), \"return\": verb(\"return\") }, i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { return function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]), next(); }); }; }\r\n    function next() { if (!c && q.length) resume((c = q.shift())[0], c[1]); }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(c[3], e); } }\r\n    function step(r) { r.done ? settle(c[2], r) : r.value[0] === \"yield\" ? settle(c[2], { value: r.value[1], done: false }) : Promise.resolve(r.value[1]).then(r.value[0] === \"delegate\" ? delegate : fulfill, reject); }\r\n    function delegate(r) { step(r.done ? r : { value: [\"yield\", r.value], done: false }); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { c = void 0, f(v), next(); }\r\n};\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i = { next: verb(\"next\"), \"throw\": verb(\"throw\", function (e) { throw e; }), \"return\": verb(\"return\", function (v) { return { value: v, done: true }; }) };\r\n    return o = __asyncValues(o), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { return function (v) { return { value: [\"delegate\", (o[n] || f).call(o, v)], done: false }; }; }\r\n};\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Analytics; });\nvar Analytics = (function () {\r\n    function Analytics(_app) {\r\n        this._app = _app;\r\n    }\r\n    Analytics.getInstance = function (app) {\r\n        if (!this._instance) {\r\n            this._instance = new Analytics(app);\r\n        }\r\n        return this._instance;\r\n    };\r\n    Analytics.prototype._exec = function (success, error, action, args) {\r\n        this._app._execWithoutName(success, error, \"analytics_\" + action, args);\r\n    };\r\n    Analytics.prototype.logEvent = function (name, params) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'logEvent', [name, params]);\r\n        });\r\n    };\r\n    Analytics.prototype.setScreenName = function (name) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'setScreenName', [name]);\r\n        });\r\n    };\r\n    Analytics.prototype.setUserId = function (id) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'setUserId', [id]);\r\n        });\r\n    };\r\n    Analytics.prototype.setUserProperty = function (name, value) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'setUserProperty', [name, value]);\r\n        });\r\n    };\r\n    return Analytics;\r\n}());\r\n\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__user__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers__ = __webpack_require__(16);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_2__providers__[\"a\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return __WEBPACK_IMPORTED_MODULE_2__providers__[\"b\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return __WEBPACK_IMPORTED_MODULE_2__providers__[\"c\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return __WEBPACK_IMPORTED_MODULE_2__providers__[\"d\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return __WEBPACK_IMPORTED_MODULE_2__providers__[\"e\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_1__user__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__user_info__ = __webpack_require__(5);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_3__user_info__[\"a\"]; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Auth; });\n\r\n\r\nvar Auth = (function () {\r\n    /**\r\n     * @internal\r\n     */\r\n    function Auth(app) {\r\n        this.app = app;\r\n        this._currentUser = null;\r\n        this._authListenerId = 0;\r\n        this._authListeners = {};\r\n    }\r\n    Auth.prototype._exec = function (success, error, action, args) {\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"c\" /* exec */])(success, error, 'Firebase', \"auth_\" + action, [this.app.name].concat(args));\r\n    };\r\n    Object.defineProperty(Auth.prototype, \"currentUser\", {\r\n        get: function () {\r\n            return this._currentUser;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Auth.prototype.applyActionCode = function (code) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'applyActionCode', [code]);\r\n        });\r\n    };\r\n    Auth.prototype.checkActionCode = function (code) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var success = function (email) {\r\n                resolve({ data: { email: email } });\r\n            };\r\n            _this._exec(success, reject, 'checkActionCode', [code]);\r\n        });\r\n    };\r\n    Auth.prototype.createUserWithEmailAndPassword = function (email, password) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var success = function (internalUserInfo) {\r\n                resolve(new __WEBPACK_IMPORTED_MODULE_1__user__[\"a\" /* User */](_this, internalUserInfo));\r\n            };\r\n            _this._exec(success, reject, 'createUserWithEmailAndPassword', [email, password]);\r\n        });\r\n    };\r\n    Auth.prototype.fetchProvidersForEmail = function (email) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'fetchProvidersForEmail', [email]);\r\n        });\r\n    };\r\n    Auth.prototype.onAuthStateChanged = function (callback, errorFn, completeFn) {\r\n        var _this = this;\r\n        var listenerId = this._authListenerId++;\r\n        this._authListeners[listenerId] = { callback: callback, errorFn: errorFn, completeFn: completeFn };\r\n        if (Object.keys(this._authListeners).length === 1) {\r\n            this._attachAuthStateChangeListener();\r\n        }\r\n        return function () { return _this._removeAuthStateListener(listenerId); };\r\n    };\r\n    Auth.prototype.signInAnonymously = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var success = function (internalUserInfo) {\r\n                resolve(new __WEBPACK_IMPORTED_MODULE_1__user__[\"a\" /* User */](_this, internalUserInfo));\r\n            };\r\n            _this._exec(success, reject, 'signInAnonymously', []);\r\n        });\r\n    };\r\n    Auth.prototype.signInWithCredential = function (credential) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'signInWithCredential', [credential]);\r\n        });\r\n    };\r\n    Auth.prototype.signInWithCustomToken = function (token) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var success = function (internalUserInfo) {\r\n                resolve(new __WEBPACK_IMPORTED_MODULE_1__user__[\"a\" /* User */](_this, internalUserInfo));\r\n            };\r\n            _this._exec(success, reject, 'signInWithCustomToken', [token]);\r\n        });\r\n    };\r\n    Auth.prototype.signInWithEmailAndPassword = function (email, password) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var success = function (internalUserInfo) {\r\n                resolve(new __WEBPACK_IMPORTED_MODULE_1__user__[\"a\" /* User */](_this, internalUserInfo));\r\n            };\r\n            _this._exec(success, reject, 'signInWithEmailAndPassword', [email, password]);\r\n        });\r\n    };\r\n    Auth.prototype.signOut = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'signOut', []);\r\n        });\r\n    };\r\n    Auth.prototype.sendPasswordResetEmail = function (email) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'sendPasswordResetEmail', [email]);\r\n        });\r\n    };\r\n    Auth.prototype.verifyPasswordResetCode = function (code) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'verifyPasswordResetCode', [code]);\r\n        });\r\n    };\r\n    Auth.prototype.confirmPasswordReset = function (code, newPassword) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'confirmPasswordReset', [code, newPassword]);\r\n        });\r\n    };\r\n    Auth.prototype._removeAuthStateListener = function (listenerId) {\r\n        if (this._authListeners[listenerId]) {\r\n            var listener = this._authListeners[listenerId];\r\n            if (typeof listener.completeFn === 'function') {\r\n                listener.completeFn();\r\n            }\r\n            delete this._authListeners[listenerId];\r\n            if (Object.keys(this._authListeners).length === 0) {\r\n                this._detachAuthStateChangeListener();\r\n            }\r\n        }\r\n    };\r\n    Auth.prototype._attachAuthStateChangeListener = function () {\r\n        var _this = this;\r\n        var callback = function (internalUserInfo) {\r\n            _this._currentUser = new __WEBPACK_IMPORTED_MODULE_1__user__[\"a\" /* User */](_this, internalUserInfo);\r\n            for (var listenerId in _this._authListeners) {\r\n                _this._authListeners[listenerId].callback(_this._currentUser);\r\n            }\r\n        };\r\n        var error = function (reason) {\r\n            for (var listenerId in _this._authListeners) {\r\n                _this._authListeners[listenerId].errorFn(reason);\r\n            }\r\n        };\r\n        this._exec(callback, error, 'addAuthStateListener', []);\r\n    };\r\n    Auth.prototype._detachAuthStateChangeListener = function () {\r\n        var error = function (reason) {\r\n            throw new Error('Failed detaching auth state change listener:' + reason);\r\n        };\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"c\" /* exec */])(function () {\r\n        }, error, 'Firebase', 'auth_removeAuthStateListener', []);\r\n    };\r\n    return Auth;\r\n}());\r\n\r\n\r\n\r\n\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UserInfo; });\nvar UserInfo = (function () {\r\n    /**\r\n     * @internal\r\n     */\r\n    function UserInfo(_internalUser) {\r\n        this._internalUser = _internalUser;\r\n    }\r\n    Object.defineProperty(UserInfo.prototype, \"uid\", {\r\n        get: function () {\r\n            return this._internalUser.uid;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserInfo.prototype, \"displayName\", {\r\n        get: function () {\r\n            return this._internalUser.displayName;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserInfo.prototype, \"email\", {\r\n        get: function () {\r\n            return this._internalUser.email;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserInfo.prototype, \"photoURL\", {\r\n        get: function () {\r\n            return this._internalUser.photoURL;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserInfo.prototype, \"providerId\", {\r\n        get: function () {\r\n            return this._internalUser.providerId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return UserInfo;\r\n}());\r\n\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user_info__ = __webpack_require__(5);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return User; });\n\r\n\r\n\r\nvar User = (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](User, _super);\r\n    /**\r\n     * @internal\r\n     */\r\n    function User(_auth, internalUser) {\r\n        var _this = _super.call(this, internalUser) || this;\r\n        _this._auth = _auth;\r\n        _this._updateProviderData();\r\n        return _this;\r\n    }\r\n    User.prototype._exec = function (success, error, action, args) {\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"c\" /* exec */])(success, error, 'Firebase', \"auth_user_\" + action, [this._auth.app.name].concat(args));\r\n    };\r\n    Object.defineProperty(User.prototype, \"emailVerified\", {\r\n        get: function () {\r\n            return this._internalUser.emailVerified;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(User.prototype, \"isAnonymous\", {\r\n        get: function () {\r\n            return this._internalUser.isAnonymous;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(User.prototype, \"providerData\", {\r\n        get: function () {\r\n            // Return a copy of the providerData array to prevent accidental\r\n            // modifications to the internal representation.\r\n            return this._providerData.slice();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    User.prototype.delete = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'delete', [_this.uid]);\r\n        });\r\n    };\r\n    User.prototype.getToken = function (forceRefresh) {\r\n        var _this = this;\r\n        if (forceRefresh === void 0) { forceRefresh = false; }\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'getToken', [_this.uid, forceRefresh]);\r\n        });\r\n    };\r\n    User.prototype.reload = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var callback = function (internalUser) {\r\n                _this._internalUser = internalUser;\r\n                _this._updateProviderData();\r\n                resolve();\r\n            };\r\n            _this._exec(callback, reject, 'reload', [_this.uid]);\r\n        });\r\n    };\r\n    User.prototype.sendEmailVerification = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'sendEmailVerification', [_this.uid]);\r\n        });\r\n    };\r\n    User.prototype.updateEmail = function (newEmail) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'updateEmail', [_this.uid, newEmail]);\r\n        });\r\n    };\r\n    User.prototype.updatePassword = function (newPassword) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'updatePassword', [_this.uid, newPassword]);\r\n        });\r\n    };\r\n    User.prototype.updateProfile = function (profile) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var _profile = {};\r\n            var hasDisplayName = false;\r\n            var hasPhotoURL = false;\r\n            if (profile.displayName !== void 0) {\r\n                hasDisplayName = true;\r\n                _profile.displayName = profile.displayName;\r\n            }\r\n            if (profile.photoURL !== void 0) {\r\n                hasPhotoURL = true;\r\n                _profile.photoURL = profile.photoURL;\r\n            }\r\n            if (!hasDisplayName && !hasPhotoURL) {\r\n                reject('You need to specify at least one of displayName or photoURL');\r\n                return;\r\n            }\r\n            var callback = function () {\r\n                if (hasDisplayName) {\r\n                    _this._internalUser.displayName = profile.displayName;\r\n                }\r\n                if (hasPhotoURL) {\r\n                    _this._internalUser.photoURL = profile.photoURL;\r\n                }\r\n                resolve();\r\n            };\r\n            _this._exec(callback, reject, 'updateProfile', [_this.uid, _profile]);\r\n        });\r\n    };\r\n    User.prototype.link = function (credential) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'link', [_this.uid, credential]);\r\n        });\r\n    };\r\n    User.prototype.unlink = function (providerId) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var callback = function (internalUser) {\r\n                _this._internalUser = internalUser;\r\n                _this._updateProviderData();\r\n                resolve();\r\n            };\r\n            _this._exec(callback, reject, 'unlink', [_this.uid, providerId]);\r\n        });\r\n    };\r\n    User.prototype.reauthenticate = function (credential) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'reauthenticate', [_this.uid, credential]);\r\n        });\r\n    };\r\n    User.prototype.toJSON = function () {\r\n        return JSON.parse(JSON.stringify(this._internalUser));\r\n    };\r\n    User.prototype._updateProviderData = function () {\r\n        var _this = this;\r\n        this._providerData = [];\r\n        this._internalUser.providerData.forEach(function (providerUser) {\r\n            _this._providerData.push(new __WEBPACK_IMPORTED_MODULE_2__user_info__[\"a\" /* UserInfo */](providerUser));\r\n        });\r\n    };\r\n    return User;\r\n}(__WEBPACK_IMPORTED_MODULE_2__user_info__[\"a\" /* UserInfo */]));\r\n\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__reference__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_path__ = __webpack_require__(11);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DataSnapshot; });\n\r\n\r\nvar DataSnapshot = (function () {\r\n    function DataSnapshot(_db, _path, _value, key) {\r\n        if (_value === void 0) { _value = null; }\r\n        this._db = _db;\r\n        this._path = _path;\r\n        this._value = _value;\r\n        if (typeof key === 'string') {\r\n            this._path = this._path.child(key);\r\n        }\r\n    }\r\n    Object.defineProperty(DataSnapshot.prototype, \"key\", {\r\n        get: function () {\r\n            return this._path.key;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DataSnapshot.prototype, \"ref\", {\r\n        get: function () {\r\n            return new __WEBPACK_IMPORTED_MODULE_0__reference__[\"a\" /* Reference */](this._path, this._db);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DataSnapshot.prototype.child = function (path) {\r\n        var pathParts = __WEBPACK_IMPORTED_MODULE_1__utils_path__[\"a\" /* Path */].getParts(path);\r\n        var value = this._value;\r\n        while (pathParts.length) {\r\n            var childKey = pathParts.shift();\r\n            if ((typeof value === 'undefined') || (value === null) || !value.hasOwnProperty(childKey)) {\r\n                value = null;\r\n                break;\r\n            }\r\n            value = value[childKey];\r\n        }\r\n        return new DataSnapshot(this._db, this._path.child(path), value);\r\n    };\r\n    DataSnapshot.prototype.exists = function () {\r\n        return (typeof this._value !== 'undefined') && (this._value !== null);\r\n    };\r\n    DataSnapshot.prototype.hasChild = function (path) {\r\n        var pathParts = __WEBPACK_IMPORTED_MODULE_1__utils_path__[\"a\" /* Path */].getParts(path);\r\n        var value = this._value;\r\n        while (pathParts.length) {\r\n            var childKey = pathParts.shift();\r\n            if ((typeof value === 'undefined') || (value === null) || !value.hasOwnProperty(childKey)) {\r\n                return false;\r\n            }\r\n            value = value[childKey];\r\n        }\r\n        return ((typeof value !== 'undefined') && (value !== null));\r\n    };\r\n    DataSnapshot.prototype.hasChildren = function () {\r\n        var _this = this;\r\n        if (!this._isObjectValue()) {\r\n            return false;\r\n        }\r\n        return Object.keys(this._value)\r\n            .some(function (key) { return (typeof _this._value[key] !== 'undefined') && (_this._value[key] !== null); });\r\n    };\r\n    DataSnapshot.prototype.numChildren = function () {\r\n        var _this = this;\r\n        if (!this._isObjectValue()) {\r\n            return 0;\r\n        }\r\n        return Object.keys(this._value)\r\n            .find(function (key) { return (typeof _this._value[key] !== 'undefined') && (_this._value[key] !== null); })\r\n            .length;\r\n    };\r\n    DataSnapshot.prototype.val = function () {\r\n        return this._value;\r\n    };\r\n    DataSnapshot.prototype.forEach = function (childFn) {\r\n        // TODO: loop the child keys in the same order that was specified in the query that generated this snapshot\r\n        if (!this._isObjectValue()) {\r\n            return false;\r\n        }\r\n        var keys = Object.keys(this._value);\r\n        for (var i = 0, l = keys.length; i < l; i++) {\r\n            if (childFn(this.child(keys[i]))) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    DataSnapshot.prototype._isObjectValue = function () {\r\n        if ((typeof this._value === 'undefined') || (this._value === null) || Array.isArray(this._value)) {\r\n            return false;\r\n        }\r\n        return (typeof this._value === 'object');\r\n    };\r\n    return DataSnapshot;\r\n}());\r\n\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__reference__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__data_snapshot__ = __webpack_require__(7);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_0__reference__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_1__data_snapshot__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__query__ = __webpack_require__(10);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_2__query__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return __WEBPACK_IMPORTED_MODULE_0__reference__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__on_disconnect__ = __webpack_require__(9);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return __WEBPACK_IMPORTED_MODULE_3__on_disconnect__[\"a\"]; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Database; });\n/* unused harmony export ServerValue */\n\r\n\r\nvar Database = (function () {\r\n    /**\r\n     * @internal\r\n     */\r\n    function Database(app) {\r\n        this.app = app;\r\n        /**\r\n         * @internal\r\n         */\r\n        this._listeners = {};\r\n        /**\r\n         * @internal\r\n         */\r\n        this._listenerCounter = 1;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    Database.prototype._exec = function (success, error, action, args) {\r\n        this.app._exec(success, error, \"database_\" + action, args);\r\n    };\r\n    Database.prototype.ref = function (path) {\r\n        return new __WEBPACK_IMPORTED_MODULE_0__reference__[\"a\" /* Reference */](path, this);\r\n    };\r\n    Database.prototype.goOffline = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'goOffline');\r\n        });\r\n    };\r\n    Database.prototype.goOnline = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'goOnline');\r\n        });\r\n    };\r\n    Database.prototype.setPersistenceEnabled = function (isEnabled) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'setPersistenceEnabled', [isEnabled]);\r\n        });\r\n    };\r\n    return Database;\r\n}());\r\n\r\nvar ServerValue = {\r\n    TIMESTAMP: {\r\n        '.sv': 'timestamp',\r\n    },\r\n};\r\n\r\n\r\n\r\n\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OnDisconnect; });\nvar OnDisconnect = (function () {\r\n    function OnDisconnect(_db, _path) {\r\n        this._db = _db;\r\n        this._path = _path;\r\n    }\r\n    OnDisconnect.prototype._exec = function (success, error, action, args) {\r\n        this._db._exec(success, error, \"onDisconnect_\" + action, args);\r\n    };\r\n    OnDisconnect.prototype.set = function (value) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'set', [_this._path, value]);\r\n        });\r\n    };\r\n    OnDisconnect.prototype.remove = function () {\r\n        return this.set(null);\r\n    };\r\n    OnDisconnect.prototype.update = function (value) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'update', [_this._path, value]);\r\n        });\r\n    };\r\n    OnDisconnect.prototype.cancel = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'cancel', [_this._path]);\r\n        });\r\n    };\r\n    OnDisconnect.prototype.setWithPriority = function (value, priority) {\r\n        return this.set({\r\n            '.value': value,\r\n            '.priority': priority,\r\n        });\r\n    };\r\n    return OnDisconnect;\r\n}());\r\n\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_path__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__reference__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__data_snapshot__ = __webpack_require__(7);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Query; });\n\r\n\r\n\r\n\r\n\r\nvar Query = (function () {\r\n    function Query(pathOrQuery, _dbOrOptions) {\r\n        if (pathOrQuery instanceof Query) {\r\n            this._path = pathOrQuery._path;\r\n            this._db = pathOrQuery._db;\r\n            this._options = _dbOrOptions;\r\n            return;\r\n        }\r\n        this._path = (pathOrQuery instanceof __WEBPACK_IMPORTED_MODULE_2__utils_path__[\"a\" /* Path */]) ? pathOrQuery : new __WEBPACK_IMPORTED_MODULE_2__utils_path__[\"a\" /* Path */](pathOrQuery);\r\n        this._db = _dbOrOptions;\r\n        this._options = {\r\n            _hasOrder: false,\r\n            startAt: {\r\n                value: void 0,\r\n                valueType: void 0,\r\n                key: void 0,\r\n            },\r\n            endAt: {\r\n                value: void 0,\r\n                valueType: void 0,\r\n                key: void 0,\r\n            },\r\n            equalTo: {\r\n                value: void 0,\r\n                valueType: void 0,\r\n                key: void 0,\r\n            },\r\n            limitToFirst: void 0,\r\n            limitToLast: void 0,\r\n            orderByKey: void 0,\r\n            orderByChild: void 0,\r\n            orderByPriority: false,\r\n            orderByValue: false,\r\n        };\r\n    }\r\n    Query.prototype._exec = function (success, error, action, args) {\r\n        this._db._exec(success, error, action, args);\r\n    };\r\n    Object.defineProperty(Query.prototype, \"ref\", {\r\n        get: function () {\r\n            return new __WEBPACK_IMPORTED_MODULE_3__reference__[\"a\" /* Reference */](this._path, this._db);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Query.prototype.startAt = function (value, key) {\r\n        if (this._options.startAt !== void 0) {\r\n            throw new Error('Query.startAt: either startAt or equalTo has already been set');\r\n        }\r\n        var valueType = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* getValueType */])(value);\r\n        if ((valueType !== 'number') && (valueType !== 'string') && (valueType !== 'boolean') && (valueType !== 'null')) {\r\n            throw new Error(\"Query.startAt: value must be either a number, a string, or a boolean. \\\"\" + valueType + \"\\\" is not a valid type.\");\r\n        }\r\n        if (key !== void 0) {\r\n            if (typeof key !== 'string') {\r\n                throw new Error(\"Query.startAt: key must be either a string\");\r\n            }\r\n        }\r\n        return new Query(this, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __assign */]({}, this._options, { startAt: { value: value, valueType: valueType, key: key } }));\r\n    };\r\n    Query.prototype.endAt = function (value, key) {\r\n        if (this._options.endAt !== void 0) {\r\n            throw new Error('Query.endAt: either endAt or equalTo has already been set');\r\n        }\r\n        var valueType = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* getValueType */])(value);\r\n        if ((valueType !== 'number') && (valueType !== 'string') && (valueType !== 'boolean') && (valueType !== 'null')) {\r\n            throw new Error(\"Query.endAt: value must be either a number, a string, or a boolean. \\\"\" + valueType + \"\\\" is not a valid type.\");\r\n        }\r\n        if (key !== void 0) {\r\n            if (typeof key !== 'string') {\r\n                throw new Error(\"Query.endAt: key must be either a string\");\r\n            }\r\n        }\r\n        return new Query(this, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __assign */]({}, this._options, { endAt: { value: value, valueType: valueType, key: key } }));\r\n    };\r\n    Query.prototype.equalTo = function (value, key) {\r\n        if ((this._options.startAt !== void 0) || (this._options.endAt !== void 0)) {\r\n            throw new Error('Query.equalTo: either startAt, endAt, or equalTo has already been set');\r\n        }\r\n        var valueType = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* getValueType */])(value);\r\n        if ((valueType !== 'number') && (valueType !== 'string') && (valueType !== 'boolean') && (valueType !== 'null')) {\r\n            throw new Error(\"Query.equalTo: value must be either a number, a string, or a boolean. \\\"\" + valueType + \"\\\" is not a valid type.\");\r\n        }\r\n        if (key !== void 0) {\r\n            if (typeof key !== 'string') {\r\n                throw new Error(\"Query.equalTo: key must be either a string\");\r\n            }\r\n        }\r\n        return new Query(this, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __assign */]({}, this._options, { equalTo: { value: value, valueType: valueType, key: key } }));\r\n    };\r\n    Query.prototype.limitToFirst = function (limit) {\r\n        if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* isInteger */])(limit)) {\r\n            throw new Error('Query.limitToFirst: value is not an integer');\r\n        }\r\n        return new Query(this, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __assign */]({}, this._options, { limitToFirst: [limit] }));\r\n    };\r\n    Query.prototype.limitToLast = function (limit) {\r\n        if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* isInteger */])(limit)) {\r\n            throw new Error('Query.limitToLast: value is not an integer');\r\n        }\r\n        return new Query(this, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __assign */]({}, this._options, { limitToLast: [limit] }));\r\n    };\r\n    Query.prototype.orderByKey = function () {\r\n        if (this._options.hasOrder) {\r\n            throw new Error('Query.orderByKey: order has already been set');\r\n        }\r\n        return new Query(this, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __assign */]({}, this._options, { hasOrder: true, orderByKey: true }));\r\n    };\r\n    Query.prototype.orderByChild = function (path) {\r\n        if (this._options.hasOrder) {\r\n            throw new Error('Query.orderByChild: order has already been set');\r\n        }\r\n        if (typeof path !== 'string') {\r\n            throw new Error('Query.orderByChild: path needs to be a string');\r\n        }\r\n        return new Query(this, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __assign */]({}, this._options, { hasOrder: true, orderByChild: [path] }));\r\n    };\r\n    Query.prototype.orderByPriority = function () {\r\n        if (this._options.hasOrder) {\r\n            throw new Error('Query.orderByPriority: order has already been set');\r\n        }\r\n        return new Query(this, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __assign */]({}, this._options, { hasOrder: true, orderByPriority: true }));\r\n    };\r\n    Query.prototype.orderByValue = function () {\r\n        if (this._options.hasOrder) {\r\n            throw new Error('Query.orderByValue: order has already been set');\r\n        }\r\n        return new Query(this, __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __assign */]({}, this._options, { hasOrder: true, orderByValue: true }));\r\n    };\r\n    Query.prototype.isEqual = function (query) {\r\n        return (this._db === query._db)\r\n            && (this._path.isEqual(query._path))\r\n            && (this._options.startAt.value === query._options.startAt.value)\r\n            && (this._options.startAt.valueType === query._options.startAt.valueType)\r\n            && (this._options.startAt.key === query._options.startAt.key)\r\n            && (this._options.endAt.value === query._options.endAt.value)\r\n            && (this._options.endAt.valueType === query._options.endAt.valueType)\r\n            && (this._options.endAt.key === query._options.endAt.key)\r\n            && (this._options.equalTo.value === query._options.equalTo.value)\r\n            && (this._options.equalTo.valueType === query._options.equalTo.valueType)\r\n            && (this._options.equalTo.key === query._options.equalTo.key)\r\n            && (this._options.limitToFirst === query._options.limitToFirst)\r\n            && (this._options.limitToLast === query._options.limitToLast)\r\n            && (this._options.hasOrder === query._options.hasOrder)\r\n            && (this._options.orderByKey === query._options.orderByKey)\r\n            && (this._options.orderByChild === query._options.orderByChild)\r\n            && (this._options.orderByPriority === query._options.orderByPriority)\r\n            && (this._options.orderByValue === query._options.orderByValue);\r\n    };\r\n    Query.prototype.on = function (eventType, callback, errorFn) {\r\n        this._attachListener(false, eventType, callback, errorFn);\r\n        return callback;\r\n    };\r\n    Query.prototype.once = function (eventType, callback, errorFn) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var success = function (value) {\r\n                if (typeof callback === 'function') {\r\n                    callback(value);\r\n                }\r\n                resolve(value);\r\n            };\r\n            var error = function (reason) {\r\n                if (typeof errorFn === 'function') {\r\n                    errorFn(reason);\r\n                }\r\n                reject(reason);\r\n            };\r\n            _this._attachListener(true, eventType, success, error);\r\n        });\r\n    };\r\n    Query.prototype._attachListener = function (once, eventType, callback, errorFn) {\r\n        var _this = this;\r\n        if (once === void 0) { once = false; }\r\n        if (eventType === void 0) { eventType = 'value'; }\r\n        var listenerID = String(this._db._listenerCounter++);\r\n        this._addListener(listenerID, this._path, eventType, callback);\r\n        var success = function (listenerEvent) {\r\n            if (once) {\r\n                _this._removeListener(listenerID);\r\n            }\r\n            var snapshot = new __WEBPACK_IMPORTED_MODULE_4__data_snapshot__[\"a\" /* DataSnapshot */](_this._db, _this._path, listenerEvent.value, listenerEvent.key);\r\n            callback(snapshot, listenerEvent.prevChildKey);\r\n        };\r\n        var error = function (reason) {\r\n            _this._removeListener(listenerID);\r\n            if (typeof errorFn === 'function') {\r\n                errorFn(new Error(reason));\r\n            }\r\n        };\r\n        var queryOptions = {};\r\n        if (this._options.hasOrder) {\r\n            if (this._options.orderByValue) {\r\n                queryOptions.orderByValue = true;\r\n            }\r\n            else if (this._options.orderByPriority) {\r\n                queryOptions.orderByPriority = true;\r\n            }\r\n            else if (this._options.orderByChild !== void 0) {\r\n                queryOptions.orderByChild = this._options.orderByChild;\r\n            }\r\n            else if (this._options.orderByKey) {\r\n                queryOptions.orderByKey = true;\r\n            }\r\n        }\r\n        if (this._options.limitToFirst !== void 0) {\r\n            queryOptions.limitToFirst = this._options.limitToFirst;\r\n        }\r\n        else if (this._options.limitToLast !== void 0) {\r\n            queryOptions.limitToLast = this._options.limitToLast;\r\n        }\r\n        if (this._options.equalTo.value !== void 0) {\r\n            queryOptions.equalTo = this._options.equalTo;\r\n        }\r\n        else {\r\n            if (this._options.startAt.value !== void 0) {\r\n                queryOptions.startAt = this._options.startAt;\r\n            }\r\n            if (this._options.endAt.value !== void 0) {\r\n                queryOptions.endAt = this._options.endAt;\r\n            }\r\n        }\r\n        this._exec(success, error, 'attachListener', [listenerID, once, this._path.toString(), eventType, queryOptions]);\r\n    };\r\n    Query.prototype.off = function (eventType, callback) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var listenerIDs;\r\n            if (eventType && callback) {\r\n                listenerIDs = [_this._getListenerID(eventType, callback)];\r\n            }\r\n            else {\r\n                listenerIDs = _this._getListenerIDs(eventType, callback);\r\n            }\r\n            if (!listenerIDs || (listenerIDs.length === 0)) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var success = function () {\r\n                listenerIDs.forEach(function (id) { return _this._removeListener(id); });\r\n                resolve();\r\n            };\r\n            _this._exec(success, reject, 'removeListeners', [listenerIDs]);\r\n        });\r\n    };\r\n    Query.prototype.keepSynced = function (keepSynced) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, reject, 'keepSynced', [_this._path.toString(), keepSynced]);\r\n        });\r\n    };\r\n    Query.prototype._removeListener = function (id) {\r\n        if (id) {\r\n            delete this._db._listeners[id];\r\n        }\r\n    };\r\n    Query.prototype._addListener = function (id, path, eventType, callback) {\r\n        this._db._listeners[id] = { path: path, eventType: eventType, callback: callback };\r\n    };\r\n    Query.prototype._getListenerID = function (eventType, callback) {\r\n        var keys = Object.keys(this._db._listeners);\r\n        for (var i = 0, l = keys.length; i < l; i++) {\r\n            var id = keys[i];\r\n            var listener = this._db._listeners[id];\r\n            if ((listener.path === this._path) && (listener.eventType === eventType) && (listener.callback === callback)) {\r\n                return id;\r\n            }\r\n        }\r\n        // Not found\r\n        return null;\r\n    };\r\n    Query.prototype._getListenerIDs = function (eventType, callback) {\r\n        var keys = Object.keys(this._db._listeners);\r\n        var ids = [];\r\n        for (var i = 0, l = keys.length; i < l; i++) {\r\n            var id = keys[i];\r\n            var listener = this._db._listeners[id];\r\n            if (listener.path.isEqual(this._path)\r\n                && (!eventType || (listener.eventType === eventType))\r\n                && (!callback || (listener.callback === callback))) {\r\n                ids.push(id);\r\n            }\r\n        }\r\n        return ids;\r\n    };\r\n    return Query;\r\n}());\r\n\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Path; });\nvar Path = (function () {\r\n    function Path(path) {\r\n        if (path === void 0) { path = ''; }\r\n        this._parts = typeof path === 'string' ? Path.getParts(path) : path;\r\n    }\r\n    Object.defineProperty(Path.prototype, \"key\", {\r\n        get: function () {\r\n            return this._parts.length ? this._parts[this._parts.length - 1] : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Path.prototype, \"parent\", {\r\n        get: function () {\r\n            if (!this._parts.length)\r\n                return null;\r\n            return new Path(this._parts.slice(0, this._parts.length - 1));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Path.prototype, \"parts\", {\r\n        get: function () {\r\n            return this._parts.slice(0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Path.prototype.child = function (path, skipCheck) {\r\n        if (skipCheck === void 0) { skipCheck = false; }\r\n        return new Path(this._parts.concat(Path.getParts(path, skipCheck)));\r\n    };\r\n    Path.prototype.isEqual = function (otherPath) {\r\n        return otherPath && (this.toString() === otherPath.toString());\r\n    };\r\n    Path.prototype.toString = function () {\r\n        return '/' + this._parts.join('/');\r\n    };\r\n    Object.defineProperty(Path.prototype, \"length\", {\r\n        get: function () {\r\n            return this._parts.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Path.getParts = function (path, skipCheck) {\r\n        if (skipCheck === void 0) { skipCheck = false; }\r\n        path = Path.normalize(path, skipCheck);\r\n        if (path === '')\r\n            return [];\r\n        return path.split('/');\r\n    };\r\n    Path.normalize = function (path, skipCheck) {\r\n        if (skipCheck === void 0) { skipCheck = false; }\r\n        if (!skipCheck && /[\\.\\#\\$\\[\\]]/.test(path)) {\r\n            throw new Error(\"Invalid path: \\\"\" + path + \"\\\". Paths must be non-empty strings and can't contain \\\".\\\", \\\"#\\\", \\\"$\\\", \\\"[\\\", or \\\"]\\\"\");\r\n        }\r\n        return path.replace(/\\/\\/+/, '/').replace(/^\\//, '').replace(/\\/$/, '');\r\n    };\r\n    return Path;\r\n}());\r\n\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Messaging; });\nvar Messaging = (function () {\r\n    function Messaging(_app) {\r\n        this._app = _app;\r\n    }\r\n    Messaging.getInstance = function (app) {\r\n        if (!this._instance) {\r\n            this._instance = new Messaging(app);\r\n        }\r\n        return this._instance;\r\n    };\r\n    Messaging.prototype._exec = function (success, error, action, args) {\r\n        this._app._execWithoutName(success, error, \"messaging_\" + action, args);\r\n    };\r\n    Messaging.prototype.getToken = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'getToken');\r\n        });\r\n    };\r\n    Messaging.prototype.onNotificationOpen = function (callback, error) {\r\n        this._exec(callback, error, 'onNotificationOpen');\r\n    };\r\n    Messaging.prototype.onTokenRefresh = function (callback, error) {\r\n        this._exec(callback, error, 'onTokenRefresh');\r\n    };\r\n    Messaging.prototype.grantPermission = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'grantPermission');\r\n        });\r\n    };\r\n    Messaging.prototype.hasPermission = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'hasPermission');\r\n        });\r\n    };\r\n    Messaging.prototype.setBadgeNumber = function (number) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'setBadgeNumber', [number]);\r\n        });\r\n    };\r\n    Messaging.prototype.getBadgeNumber = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'getBadgeNumber');\r\n        });\r\n    };\r\n    Messaging.prototype.subscribe = function (topic) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'subscribe', [topic]);\r\n        });\r\n    };\r\n    Messaging.prototype.unsubscribe = function (topic) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'unsubscribe', [topic]);\r\n        });\r\n    };\r\n    return Messaging;\r\n}());\r\n\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RemoteConfig; });\nvar RemoteConfig = (function () {\r\n    function RemoteConfig(_app) {\r\n        this._app = _app;\r\n    }\r\n    RemoteConfig.getInstance = function (app) {\r\n        if (!this._instance) {\r\n            this._instance = new RemoteConfig(app);\r\n        }\r\n        return this._instance;\r\n    };\r\n    RemoteConfig.prototype._exec = function (success, error, action, args) {\r\n        this._app._execWithoutName(success, error, \"remoteConfig_\" + action, args);\r\n    };\r\n    RemoteConfig.prototype.activateFetched = function (resolve, reject) {\r\n        this._exec(resolve, reject, 'activateFetched');\r\n    };\r\n    RemoteConfig.prototype.fetch = function (cacheExpirationSeconds) {\r\n        var _this = this;\r\n        var args = [];\r\n        if (typeof cacheExpirationSeconds === 'number') {\r\n            args.push(cacheExpirationSeconds);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'fetch', args);\r\n        });\r\n    };\r\n    RemoteConfig.prototype.getByteArray = function (key, namespace) {\r\n        var _this = this;\r\n        var args = [key];\r\n        if (typeof namespace === 'string') {\r\n            args.push(namespace);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'getByteArray', args);\r\n        });\r\n    };\r\n    RemoteConfig.prototype.getValue = function (key, namespace) {\r\n        var _this = this;\r\n        var args = [key];\r\n        if (typeof namespace === 'string') {\r\n            args.push(namespace);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'getValue', args);\r\n        });\r\n    };\r\n    RemoteConfig.prototype.getInfo = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'getInfo');\r\n        });\r\n    };\r\n    RemoteConfig.prototype.setConfigSettings = function (settings) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'setConfigSettings', [settings]);\r\n        });\r\n    };\r\n    RemoteConfig.prototype.setDefaults = function (defaults, namespace) {\r\n        var _this = this;\r\n        var args = [defaults];\r\n        if (typeof namespace === 'string') {\r\n            args.push(namespace);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(resolve, reject, 'setDefaults', args);\r\n        });\r\n    };\r\n    return RemoteConfig;\r\n}());\r\n\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__app__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__auth__ = __webpack_require__(4);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Auth\", function() { return __WEBPACK_IMPORTED_MODULE_1__auth__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"User\", function() { return __WEBPACK_IMPORTED_MODULE_1__auth__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"UserInfo\", function() { return __WEBPACK_IMPORTED_MODULE_1__auth__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"EmailAuthProvider\", function() { return __WEBPACK_IMPORTED_MODULE_1__auth__[\"d\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"FacebookAuthProvider\", function() { return __WEBPACK_IMPORTED_MODULE_1__auth__[\"e\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"GithubAuthProvider\", function() { return __WEBPACK_IMPORTED_MODULE_1__auth__[\"f\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"GoogleAuthProvider\", function() { return __WEBPACK_IMPORTED_MODULE_1__auth__[\"g\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"TwitterAuthProvider\", function() { return __WEBPACK_IMPORTED_MODULE_1__auth__[\"h\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__database__ = __webpack_require__(8);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Database\", function() { return __WEBPACK_IMPORTED_MODULE_2__database__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"DataSnapshot\", function() { return __WEBPACK_IMPORTED_MODULE_2__database__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Query\", function() { return __WEBPACK_IMPORTED_MODULE_2__database__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Reference\", function() { return __WEBPACK_IMPORTED_MODULE_2__database__[\"d\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ThenableReference\", function() { return __WEBPACK_IMPORTED_MODULE_2__database__[\"e\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"OnDisconnect\", function() { return __WEBPACK_IMPORTED_MODULE_2__database__[\"f\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__analytics__ = __webpack_require__(3);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Analytics\", function() { return __WEBPACK_IMPORTED_MODULE_3__analytics__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__messaging__ = __webpack_require__(12);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Messaging\", function() { return __WEBPACK_IMPORTED_MODULE_4__messaging__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__remote_config__ = __webpack_require__(13);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"RemoteConfig\", function() { return __WEBPACK_IMPORTED_MODULE_5__remote_config__[\"a\"]; });\n/* harmony export (immutable) */ __webpack_exports__[\"app\"] = app;\n/* harmony export (immutable) */ __webpack_exports__[\"initializeApp\"] = initializeApp;\n/* harmony export (immutable) */ __webpack_exports__[\"auth\"] = auth;\n/* harmony export (immutable) */ __webpack_exports__[\"database\"] = database;\n/* harmony export (immutable) */ __webpack_exports__[\"analytics\"] = analytics;\n/* harmony export (immutable) */ __webpack_exports__[\"messaging\"] = messaging;\n/* harmony export (immutable) */ __webpack_exports__[\"remoteConfig\"] = remoteConfig;\n\r\nvar apps = {};\r\nvar defaultApp;\r\nfunction app(name) {\r\n    if (name === void 0) { name = __WEBPACK_IMPORTED_MODULE_0__app__[\"a\" /* App */].DEFAULT_NAME; }\r\n    if (!apps.hasOwnProperty(name)) {\r\n        throw new Error(\"There is no app named \" + name);\r\n    }\r\n    return apps[name];\r\n}\r\nfunction initializeApp(options, name) {\r\n    if (name === void 0) { name = __WEBPACK_IMPORTED_MODULE_0__app__[\"a\" /* App */].DEFAULT_NAME; }\r\n    if ((name === void 0) && defaultApp) {\r\n        throw new Error('The default app has already been initialized');\r\n    }\r\n    var app = new __WEBPACK_IMPORTED_MODULE_0__app__[\"a\" /* App */](options, name);\r\n    apps[name] = app;\r\n    if (name === __WEBPACK_IMPORTED_MODULE_0__app__[\"a\" /* App */].DEFAULT_NAME) {\r\n        defaultApp = app;\r\n    }\r\n    return app;\r\n}\r\nfunction auth() {\r\n    if (!defaultApp) {\r\n        initializeApp();\r\n    }\r\n    return defaultApp.auth();\r\n}\r\nfunction database() {\r\n    if (!defaultApp) {\r\n        initializeApp();\r\n    }\r\n    return defaultApp.database();\r\n}\r\nfunction analytics() {\r\n    if (!defaultApp) {\r\n        initializeApp();\r\n    }\r\n    return defaultApp.analytics();\r\n}\r\nfunction messaging() {\r\n    if (!defaultApp) {\r\n        initializeApp();\r\n    }\r\n    return defaultApp.messaging();\r\n}\r\nfunction remoteConfig() {\r\n    if (!defaultApp) {\r\n        initializeApp();\r\n    }\r\n    return defaultApp.remoteConfig();\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__auth__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__database__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__messaging__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__analytics__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__remote_config__ = __webpack_require__(13);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return App; });\n\r\n\r\n\r\n\r\n\r\n\r\nvar App = (function () {\r\n    /**\r\n     * @internal\r\n     */\r\n    function App(options, _name) {\r\n        if (options === void 0) { options = {}; }\r\n        if (_name === void 0) { _name = App.DEFAULT_NAME; }\r\n        var _this = this;\r\n        this.options = options;\r\n        this._name = _name;\r\n        this._ready = false;\r\n        this._whenReady = new Promise(function (resolve, reject) {\r\n            var callback = function () {\r\n                _this._ready = true;\r\n                resolve();\r\n            };\r\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"c\" /* exec */])(callback, reject, 'Firebase', 'initializeApp', [_name, options]);\r\n        }).catch(function (reason) {\r\n            console.error(\"Error initializing app \" + _name + \":\", reason);\r\n        });\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    App.prototype._exec = function (success, error, action, args) {\r\n        var _this = this;\r\n        if (args === void 0) { args = []; }\r\n        this._whenReady.then(function () { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"c\" /* exec */])(success, error, 'Firebase', action, [_this._name].concat(args)); });\r\n    };\r\n    /**\r\n     * @internal\r\n     */\r\n    App.prototype._execWithoutName = function (success, error, action, args) {\r\n        if (args === void 0) { args = []; }\r\n        this._whenReady.then(function () { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"c\" /* exec */])(success, error, 'Firebase', action, args); });\r\n    };\r\n    Object.defineProperty(App.prototype, \"name\", {\r\n        get: function () {\r\n            return this._name;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(App.prototype, \"isReady\", {\r\n        get: function () {\r\n            return this._ready;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    App.prototype.auth = function () {\r\n        if (!this._authInstance) {\r\n            this._authInstance = new __WEBPACK_IMPORTED_MODULE_1__auth__[\"a\" /* Auth */](this);\r\n        }\r\n        return this._authInstance;\r\n    };\r\n    App.prototype.database = function () {\r\n        if (!this._databaseInstance) {\r\n            this._databaseInstance = new __WEBPACK_IMPORTED_MODULE_2__database__[\"a\" /* Database */](this);\r\n        }\r\n        return this._databaseInstance;\r\n    };\r\n    // storage(url?: string): Storage {\r\n    //   if (!this._storageInstance) {\r\n    //     this._storageInstance = new Storage(this, url);\r\n    //   }\r\n    //   return this._storageInstance;\r\n    // }\r\n    App.prototype.analytics = function () {\r\n        if (this._name !== App.DEFAULT_NAME) {\r\n            throw new Error('You can only use Analytics on the default app');\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_4__analytics__[\"a\" /* Analytics */].getInstance(this);\r\n    };\r\n    App.prototype.messaging = function () {\r\n        if (this._name !== App.DEFAULT_NAME) {\r\n            throw new Error('You can only use Messaging on the default app');\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_3__messaging__[\"a\" /* Messaging */].getInstance(this);\r\n    };\r\n    App.prototype.remoteConfig = function () {\r\n        if (this._name !== App.DEFAULT_NAME) {\r\n            throw new Error('You can only use RemoteConfig on the default app');\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_5__remote_config__[\"a\" /* RemoteConfig */].getInstance(this);\r\n    };\r\n    App.prototype.delete = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._exec(function () { return resolve(); }, function (reason) { return reject(reason); }, 'deleteApp');\r\n        });\r\n    };\r\n    return App;\r\n}());\r\n\r\nApp.DEFAULT_NAME = '[DEFAULT]';\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EmailAuthProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return FacebookAuthProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return GithubAuthProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return GoogleAuthProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return TwitterAuthProvider; });\nvar EmailAuthProvider = (function () {\r\n    function EmailAuthProvider() {\r\n    }\r\n    EmailAuthProvider.credential = function (email, password) {\r\n        return ({\r\n            provider: this.PROVIDER_ID,\r\n            email: email,\r\n            password: password\r\n        });\r\n    };\r\n    Object.defineProperty(EmailAuthProvider.prototype, \"providerId\", {\r\n        get: function () {\r\n            return EmailAuthProvider.PROVIDER_ID;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return EmailAuthProvider;\r\n}());\r\n\r\nEmailAuthProvider.PROVIDER_ID = 'password';\r\nvar FacebookAuthProvider = (function () {\r\n    function FacebookAuthProvider() {\r\n    }\r\n    FacebookAuthProvider.credential = function (token) {\r\n        return ({\r\n            provider: this.PROVIDER_ID,\r\n            token: token\r\n        });\r\n    };\r\n    Object.defineProperty(FacebookAuthProvider.prototype, \"providerId\", {\r\n        get: function () {\r\n            return FacebookAuthProvider.PROVIDER_ID;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FacebookAuthProvider;\r\n}());\r\n\r\nFacebookAuthProvider.PROVIDER_ID = 'facebook.com';\r\nvar GithubAuthProvider = (function () {\r\n    function GithubAuthProvider() {\r\n    }\r\n    GithubAuthProvider.credential = function (token) {\r\n        return ({\r\n            provider: this.PROVIDER_ID,\r\n            token: token\r\n        });\r\n    };\r\n    Object.defineProperty(GithubAuthProvider.prototype, \"providerId\", {\r\n        get: function () {\r\n            return GithubAuthProvider.PROVIDER_ID;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return GithubAuthProvider;\r\n}());\r\n\r\nGithubAuthProvider.PROVIDER_ID = 'github.com';\r\nvar GoogleAuthProvider = (function () {\r\n    function GoogleAuthProvider() {\r\n    }\r\n    GoogleAuthProvider.credential = function (idToken, accessToken) {\r\n        if ((idToken === void 0) && (accessToken === void 0)) {\r\n            throw new Error('Both idToken and accessToken are optional but at least one must be present');\r\n        }\r\n        return ({\r\n            provider: this.PROVIDER_ID,\r\n            idToken: idToken,\r\n            accessToken: accessToken\r\n        });\r\n    };\r\n    Object.defineProperty(GoogleAuthProvider.prototype, \"providerId\", {\r\n        get: function () {\r\n            return GoogleAuthProvider.PROVIDER_ID;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return GoogleAuthProvider;\r\n}());\r\n\r\nGoogleAuthProvider.PROVIDER_ID = 'google.com';\r\nvar TwitterAuthProvider = (function () {\r\n    function TwitterAuthProvider() {\r\n    }\r\n    TwitterAuthProvider.credential = function (token, secret) {\r\n        return ({\r\n            provider: this.PROVIDER_ID,\r\n            token: token,\r\n            secret: secret\r\n        });\r\n    };\r\n    Object.defineProperty(TwitterAuthProvider.prototype, \"providerId\", {\r\n        get: function () {\r\n            return TwitterAuthProvider.PROVIDER_ID;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return TwitterAuthProvider;\r\n}());\r\n\r\nTwitterAuthProvider.PROVIDER_ID = 'twitter.com';\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = generatePushKey;\n/**\r\n * The characters used to generate the push IDs.\r\n * See: https://gist.github.com/mikelehen/3596a30bd69384624c11\r\n */\r\nvar PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\r\nvar lastTime = 0;\r\nvar lastRandChars = [];\r\n/**\r\n * Based on the code provided by Michael Lehenbauer: https://gist.github.com/mikelehen/3596a30bd69384624c11\r\n * Also see: https://firebase.googleblog.com/2015/02/the-2120-ways-to-ensure-unique_68.html\r\n *\r\n * @param timeDiff\r\n * @returns {string}\r\n * @internal\r\n */\r\nfunction generatePushKey(timeDiff) {\r\n    if (timeDiff === void 0) { timeDiff = 0; }\r\n    var now = Date.now() - timeDiff; //this.db.timeDiff;\r\n    var isDuplicateTime = (now === lastTime);\r\n    lastTime = now;\r\n    var timeStampChars = new Array(8);\r\n    for (var i = 7; i >= 0; i--) {\r\n        timeStampChars[i] = PUSH_CHARS.charAt(now % 64);\r\n        // NOTE: Can't use << here because javascript will convert to int and lose the upper bits.\r\n        now = Math.floor(now / 64);\r\n    }\r\n    if (now !== 0)\r\n        throw new Error('generatePushId: We should have converted the entire timestamp.');\r\n    var id = timeStampChars.join('');\r\n    if (!isDuplicateTime) {\r\n        for (var i = 0; i < 12; i++) {\r\n            lastRandChars[i] = Math.floor(Math.random() * 64);\r\n        }\r\n    }\r\n    else {\r\n        // If the timestamp hasn't changed since last push, use the same random number, except incremented by 1.\r\n        var i = void 0;\r\n        for (i = 11; (i >= 0) && (lastRandChars[i] === 63); i--) {\r\n            lastRandChars[i] = 0;\r\n        }\r\n        lastRandChars[i]++;\r\n    }\r\n    for (var i = 0; i < 12; i++) {\r\n        id += PUSH_CHARS.charAt(lastRandChars[i]);\r\n    }\r\n    if (id.length != 20)\r\n        throw new Error('generatePushKey: Length should be 20.');\r\n    return id;\r\n}\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"cordova/exec\");\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(14);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 390ef4b5ac4358a24f9e","import { Database } from './index';\nimport { Query } from './query';\nimport { Path } from './utils/path';\nimport { OnDisconnect } from './on-disconnect';\nimport { ErrorCallback, SuccessCallback } from '../utils';\nimport { generatePushKey } from './utils/push-key';\n\nexport class Reference extends Query {\n\n  constructor(path: string | Path, db: Database) {\n    super(path, db);\n  }\n\n  get key(): string | null {\n    return this._path.key;\n  }\n\n  get parent(): Reference | null {\n    const parent = this._path.parent;\n    return parent ? new Reference(parent, this._db) : null;\n  }\n\n  get root(): Reference {\n    return new Reference('/', this._db);\n  }\n\n  child(path: string): Reference {\n    return new Reference(this._path.child(path), this._db);\n  }\n\n  set(value: any): Promise<void> {\n    if (typeof value === 'undefined') {\n      throw new Error('Query.set: no value specified');\n    }\n\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'set', [this._path.toString(), value]);\n    });\n  }\n\n  remove(): Promise<void> {\n    return this.set(null);\n  }\n\n  push(): Reference;\n  push(value: any): ThenableReference;\n  push(value?: any): Reference | ThenableReference {\n    const pushKey = generatePushKey();\n\n    if (typeof value === 'undefined') {\n      return this.child(pushKey);\n    }\n\n    const thenableRef = new ThenableReference(this._path.child(pushKey), this._db);\n    thenableRef.set(value);\n\n    return thenableRef;\n  }\n\n  setPriority(priority: string | number | null): Promise<void> {\n    const newRef = new Reference(this._path.child('.priority', true), this._db);\n    return newRef.set(priority);\n  }\n\n  setWithPriority(value: any, priority: string | number | null): Promise<void> {\n    return this.set({\n      '.value': value,\n      '.priority': priority,\n    });\n  }\n\n  transaction() {\n    // TODO: implement this... but how? It might not be possible.\n    throw new Error('Transactions are not supported yet. Sorry!');\n  }\n\n  update(value: any) {\n    if (typeof value === 'undefined') {\n      throw new Error('Query.update: no value specified');\n    }\n\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'update', [this._path.toString(), value]);\n    });\n  }\n\n  onDisconnect(): OnDisconnect {\n    return new OnDisconnect(this._db, this._path.toString());\n  }\n\n}\n\nexport class ThenableReference extends Reference {\n  private _promise: Promise<void>;\n\n  set(value: any): Promise<void> {\n    this._promise = super.set(value);\n    return this._promise;\n  }\n\n  then(onfulfilled?: (() => any) | undefined | null,\n       onrejected?: ((reason: any) => any) | undefined | null): Promise<void> {\n    return this._promise.then<void>(onfulfilled, onrejected);\n  }\n\n  catch<T>(onrejected?: ((reason: any) => T) | undefined | null): Promise<T> {\n    return this._promise.catch<T>(onrejected);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/database/reference.ts","// declare module 'cordova/exec' {\n//     function exec(success: SuccessCallback,\n//                                error: ErrorCallback,\n//                                plugin: string,\n//                                action: string,\n//                                args: any[]): void;\n//     export = exec;\n// }\n\nimport exec from 'cordova/exec';\n\nexport { exec };\n\nexport type SuccessCallback = (value?: any) => any;\nexport type ErrorCallback = (reason?: any) => any;\n\nexport function getValueType(value: any): string {\n    if (value === void 0) {\n        return 'undefined';\n    }\n\n    if (value === null) {\n        return 'null';\n    }\n\n    const type = typeof value;\n\n    if ((type === 'number') || (type === 'string') || (type === 'boolean') || (type === 'function')) {\n        return type;\n    }\n\n    if (Array.isArray(value)) {\n        return 'array';\n    }\n\n\n    if (type === 'object') {\n        return 'object';\n    }\n\n    return 'unknown';\n}\n\nexport const isInteger = Number.isInteger || function (value: any) {\n        return (typeof value === 'number') && isFinite(value) && Math.floor(value) === value;\n    };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n};\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), q = [], c, i;\r\n    return i = { next: verb(\"next\"), \"throw\": verb(\"throw\"), \"return\": verb(\"return\") }, i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { return function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]), next(); }); }; }\r\n    function next() { if (!c && q.length) resume((c = q.shift())[0], c[1]); }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(c[3], e); } }\r\n    function step(r) { r.done ? settle(c[2], r) : r.value[0] === \"yield\" ? settle(c[2], { value: r.value[1], done: false }) : Promise.resolve(r.value[1]).then(r.value[0] === \"delegate\" ? delegate : fulfill, reject); }\r\n    function delegate(r) { step(r.done ? r : { value: [\"yield\", r.value], done: false }); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { c = void 0, f(v), next(); }\r\n};\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i = { next: verb(\"next\"), \"throw\": verb(\"throw\", function (e) { throw e; }), \"return\": verb(\"return\", function (v) { return { value: v, done: true }; }) };\r\n    return o = __asyncValues(o), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { return function (v) { return { value: [\"delegate\", (o[n] || f).call(o, v)], done: false }; }; }\r\n};\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tslib/tslib.es6.js\n// module id = 2\n// module chunks = 0","import { SuccessCallback, ErrorCallback } from '../utils';\nimport { App } from '../app';\n\nexport class Analytics {\n  private static _instance: Analytics;\n\n  private constructor(private _app: App) {\n  }\n\n  static getInstance(app: App): Analytics {\n    if (!this._instance) {\n      this._instance = new Analytics(app);\n    }\n    return this._instance;\n  }\n\n  private _exec(success: SuccessCallback, error: ErrorCallback, action: string, args: any[]) {\n    this._app._execWithoutName(success, error, `analytics_${action}`, args);\n  }\n\n  logEvent(name: string, params: LogEventParams): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'logEvent', [name, params]);\n    });\n  }\n\n  setScreenName(name: string): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'setScreenName', [name]);\n    });\n  }\n\n  setUserId(id: string): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'setUserId', [id]);\n    });\n  }\n\n  setUserProperty(name: string, value: string): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'setUserProperty', [name, value]);\n    });\n  }\n\n}\n\nexport interface LogEventParams {\n  [k: string]: any;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/analytics/index.ts","import { exec, SuccessCallback, ErrorCallback } from '../utils';\nimport { User } from './user';\nimport { InternalUser } from './user-info';\nimport { AuthCredential } from './providers';\nimport { App } from '../app';\n\nexport class Auth {\n  private _currentUser: User = null;\n  private _authListenerId = 0;\n  private _authListeners: { [id: number]: AuthStateListener } = {};\n\n  /**\n   * @internal\n   */\n  constructor(public app: App) {\n\n  }\n\n  private _exec(success: SuccessCallback, error: ErrorCallback, action: string, args: any[]) {\n    exec(success, error, 'Firebase', `auth_${action}`, [this.app.name, ...args]);\n  }\n\n  get currentUser(): User {\n    return this._currentUser;\n  }\n\n  applyActionCode(code: string): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'applyActionCode', [code]);\n    });\n  }\n\n  checkActionCode(code: string): Promise<ActionCodeInfo> {\n    return new Promise<ActionCodeInfo>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const success = (email: string) => {\n        resolve({data: {email}});\n      };\n      this._exec(success, reject, 'checkActionCode', [code]);\n    });\n  }\n\n  createUserWithEmailAndPassword(email: string, password: string): Promise<User> {\n    return new Promise<User>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const success = (internalUserInfo: InternalUser) => {\n        resolve(new User(this, internalUserInfo));\n      };\n      this._exec(success, reject, 'createUserWithEmailAndPassword', [email, password]);\n    });\n  }\n\n  fetchProvidersForEmail(email: string): Promise<string[]> {\n    return new Promise<string[]>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'fetchProvidersForEmail', [email]);\n    });\n  }\n\n  onAuthStateChanged(callback: (user: User) => any, errorFn?: ErrorCallback, completeFn?: () => any): () => void {\n    const listenerId = this._authListenerId++;\n    this._authListeners[listenerId] = {callback, errorFn, completeFn};\n\n    if (Object.keys(this._authListeners).length === 1) {\n      this._attachAuthStateChangeListener();\n    }\n\n    return () => this._removeAuthStateListener(listenerId);\n  }\n\n  signInAnonymously(): Promise<User> {\n    return new Promise<User>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const success = (internalUserInfo: InternalUser) => {\n        resolve(new User(this, internalUserInfo));\n      };\n      this._exec(success, reject, 'signInAnonymously', []);\n    });\n  }\n\n  signInWithCredential(credential: AuthCredential): Promise<User> {\n    return new Promise<User>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'signInWithCredential', [credential]);\n    });\n  }\n\n  signInWithCustomToken(token: string): Promise<User> {\n    return new Promise<User>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const success = (internalUserInfo: InternalUser) => {\n        resolve(new User(this, internalUserInfo));\n      };\n      this._exec(success, reject, 'signInWithCustomToken', [token]);\n    });\n  }\n\n  signInWithEmailAndPassword(email: string, password: string): Promise<User> {\n    return new Promise<User>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const success = (internalUserInfo: InternalUser) => {\n        resolve(new User(this, internalUserInfo));\n      };\n      this._exec(success, reject, 'signInWithEmailAndPassword', [email, password]);\n    });\n  }\n\n  signOut(): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'signOut', []);\n    });\n  }\n\n  sendPasswordResetEmail(email: string): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'sendPasswordResetEmail', [email]);\n    });\n  }\n\n  verifyPasswordResetCode(code: string): Promise<string> {\n    return new Promise<string>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'verifyPasswordResetCode', [code]);\n    });\n  }\n\n  confirmPasswordReset(code: string, newPassword: string): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'confirmPasswordReset', [code, newPassword]);\n    });\n  }\n\n  private _removeAuthStateListener(listenerId: number): void {\n    if (this._authListeners[listenerId]) {\n      const listener = this._authListeners[listenerId];\n\n      if (typeof listener.completeFn === 'function') {\n        listener.completeFn();\n      }\n\n      delete this._authListeners[listenerId];\n\n      if (Object.keys(this._authListeners).length === 0) {\n        this._detachAuthStateChangeListener();\n      }\n    }\n  }\n\n  private _attachAuthStateChangeListener() {\n    const callback = (internalUserInfo: InternalUser) => {\n      this._currentUser = new User(this, internalUserInfo);\n\n      for (let listenerId in this._authListeners) {\n        this._authListeners[listenerId].callback(this._currentUser)\n      }\n    };\n\n    const error = (reason?: any) => {\n      for (let listenerId in this._authListeners) {\n        this._authListeners[listenerId].errorFn(reason);\n      }\n    };\n\n    this._exec(callback, error, 'addAuthStateListener', []);\n  }\n\n  private _detachAuthStateChangeListener() {\n    const error = (reason: any) => {\n      throw new Error('Failed detaching auth state change listener:' + reason);\n    };\n    exec(() => {\n    }, error, 'Firebase', 'auth_removeAuthStateListener', []);\n  }\n\n}\n\nexport interface ActionCodeInfo {\n  data: {\n    email: string;\n  }\n}\n\nexport interface AuthStateListener {\n  callback: (user: User) => any;\n  errorFn?: ErrorCallback;\n  completeFn?: () => any;\n}\n\nexport * from './providers';\nexport * from './user';\nexport * from './user-info';\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/index.ts","export class UserInfo {\n  /**\n   * @internal\n   */\n  protected constructor(protected _internalUser: InternalUser) {\n\n  }\n\n  get uid(): string {\n    return this._internalUser.uid;\n  }\n\n  get displayName(): string | null {\n    return this._internalUser.displayName;\n  }\n\n  get email(): string | null {\n    return this._internalUser.email;\n  }\n\n  get photoURL(): string | null {\n    return this._internalUser.photoURL;\n  }\n\n  get providerId(): string {\n    return this._internalUser.providerId;\n  }\n\n}\n\n/**\n * @internal\n */\nexport interface InternalUser {\n  uid: string;\n  displayName: string | null;\n  email: string | null;\n  photoURL: string | null;\n  providerId: string;\n  emailVerified: boolean;\n  isAnonymous?: boolean;\n  providerData?: InternalUser[];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/user-info.ts","import { exec, SuccessCallback, ErrorCallback } from '../utils';\nimport { InternalUser, UserInfo } from './user-info';\nimport { Auth, AuthCredential } from './index';\n\nexport class User extends UserInfo {\n  private _providerData: UserInfo[];\n\n  /**\n   * @internal\n   */\n  constructor(private _auth: Auth, internalUser: InternalUser) {\n    super(internalUser);\n    this._updateProviderData();\n  }\n\n  private _exec(success: SuccessCallback, error: ErrorCallback, action: string, args: any[]) {\n    exec(success, error, 'Firebase', `auth_user_${action}`, [this._auth.app.name, ...args]);\n  }\n\n  get emailVerified(): boolean {\n    return this._internalUser.emailVerified;\n\n  }\n\n  get isAnonymous(): boolean {\n    return this._internalUser.isAnonymous;\n  }\n\n  get providerData(): UserInfo[] {\n    // Return a copy of the providerData array to prevent accidental\n    // modifications to the internal representation.\n    return this._providerData.slice();\n  }\n\n  delete(): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'delete', [this.uid]);\n    });\n  }\n\n  getToken(forceRefresh = false): Promise<string> {\n    return new Promise<string>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'getToken', [this.uid, forceRefresh]);\n    });\n  }\n\n  reload(): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const callback = (internalUser: InternalUser) => {\n        this._internalUser = internalUser;\n        this._updateProviderData();\n        resolve();\n      };\n      this._exec(callback, reject, 'reload', [this.uid]);\n    });\n  }\n\n  sendEmailVerification(): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'sendEmailVerification', [this.uid]);\n    });\n  }\n\n  updateEmail(newEmail: string): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'updateEmail', [this.uid, newEmail]);\n    });\n  }\n\n  updatePassword(newPassword: string): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'updatePassword', [this.uid, newPassword]);\n    });\n  }\n\n  updateProfile(profile: { displayName?: string | null, photoURL?: string | null }): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const _profile: { displayName?: string | null, photoURL?: string | null } = {};\n      let hasDisplayName = false;\n      let hasPhotoURL = false;\n\n      if (profile.displayName !== void 0) {\n        hasDisplayName = true;\n        _profile.displayName = profile.displayName;\n      }\n\n      if (profile.photoURL !== void 0) {\n        hasPhotoURL = true;\n        _profile.photoURL = profile.photoURL;\n      }\n\n      if (!hasDisplayName && !hasPhotoURL) {\n        reject('You need to specify at least one of displayName or photoURL');\n        return;\n      }\n\n      const callback = () => {\n        if (hasDisplayName) {\n          this._internalUser.displayName = profile.displayName;\n        }\n\n        if (hasPhotoURL) {\n          this._internalUser.photoURL = profile.photoURL;\n        }\n\n        resolve();\n      };\n\n      this._exec(callback, reject, 'updateProfile', [this.uid, _profile]);\n    });\n  }\n\n  link(credential: AuthCredential): Promise<User> {\n    return new Promise<User>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'link', [this.uid, credential]);\n    });\n  }\n\n  unlink(providerId: string): Promise<User> {\n    return new Promise<User>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const callback = (internalUser: InternalUser) => {\n        this._internalUser = internalUser;\n        this._updateProviderData();\n        resolve();\n      };\n      this._exec(callback, reject, 'unlink', [this.uid, providerId]);\n    });\n  }\n\n  reauthenticate(credential: AuthCredential): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'reauthenticate', [this.uid, credential]);\n    });\n  }\n\n  toJSON(): object {\n    return JSON.parse(JSON.stringify(this._internalUser));\n  }\n\n  private _updateProviderData() {\n    this._providerData = [];\n    this._internalUser.providerData.forEach((providerUser: InternalUser) => {\n      this._providerData.push(new UserInfo(providerUser));\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/user.ts","import { Database } from './index';\nimport { Reference } from './reference';\nimport { Path } from './utils/path';\n\nexport class DataSnapshot {\n  constructor(private _db: Database, private _path: Path, private _value: any = null, key?: string) {\n    if (typeof key === 'string') {\n      this._path = this._path.child(key);\n    }\n  }\n\n  get key(): string {\n    return this._path.key;\n  }\n\n  get ref(): Reference {\n    return new Reference(this._path, this._db);\n  }\n\n  child(path: string) {\n    let pathParts = Path.getParts(path);\n    let value = this._value;\n\n    while (pathParts.length) {\n      const childKey = pathParts.shift();\n      if ((typeof value === 'undefined') || (value === null) || !value.hasOwnProperty(childKey)) {\n        value = null;\n        break;\n      }\n\n      value = value[childKey];\n    }\n\n    return new DataSnapshot(this._db, this._path.child(path), value);\n  }\n\n  exists(): boolean {\n    return (typeof this._value !== 'undefined') && (this._value !== null);\n  }\n\n  hasChild(path: string): boolean {\n    let pathParts = Path.getParts(path);\n    let value = this._value;\n\n    while (pathParts.length) {\n      const childKey = pathParts.shift();\n      if ((typeof value === 'undefined') || (value === null) || !value.hasOwnProperty(childKey)) {\n        return false;\n      }\n\n      value = value[childKey];\n    }\n\n    return ((typeof value !== 'undefined') && (value !== null));\n  }\n\n  hasChildren(): boolean {\n    if (!this._isObjectValue()) {\n      return false;\n    }\n\n    return Object.keys(this._value)\n      .some((key: string) => (typeof this._value[key] !== 'undefined') && (this._value[key] !== null));\n  }\n\n  numChildren(): number {\n    if (!this._isObjectValue()) {\n      return 0;\n    }\n\n    return Object.keys(this._value)\n      .find((key: string) => (typeof this._value[key] !== 'undefined') && (this._value[key] !== null))\n      .length;\n  }\n\n  val(): any {\n    return this._value;\n  }\n\n  forEach(childFn: (childSnap: DataSnapshot) => boolean | void): boolean {\n    // TODO: loop the child keys in the same order that was specified in the query that generated this snapshot\n\n    if (!this._isObjectValue()) {\n      return false;\n    }\n\n    const keys = Object.keys(this._value);\n    for (let i = 0, l = keys.length; i < l; i++) {\n      if (childFn(this.child(keys[i]))) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  private _isObjectValue(): boolean {\n    if ((typeof this._value === 'undefined') || (this._value === null) || Array.isArray(this._value)) {\n      return false;\n    }\n\n    return (typeof this._value === 'object');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/database/data-snapshot.ts","import { ErrorCallback, SuccessCallback } from '../utils';\nimport { Reference } from './reference';\nimport { DataSnapshot } from './data-snapshot';\nimport { Path } from './utils/path';\nimport { App } from '../app';\n\nexport class Database {\n  /**\n   * @internal\n   */\n  _listeners: { [k: string]: Listener } = {};\n\n  /**\n   * @internal\n   */\n  _listenerCounter = 1;\n\n  /**\n   * @internal\n   */\n  constructor(public app: App) {\n\n  }\n\n  /**\n   * @internal\n   */\n  _exec(success: SuccessCallback, error: ErrorCallback, action: string, args?: any[]) {\n    this.app._exec(success, error, `database_${action}`, args);\n  }\n\n  ref(path: string): Reference {\n    return new Reference(path, this);\n  }\n\n  goOffline(): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'goOffline');\n    });\n  }\n\n  goOnline(): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'goOnline');\n    });\n  }\n\n  setPersistenceEnabled(isEnabled: boolean): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'setPersistenceEnabled', [isEnabled]);\n    });\n  }\n\n}\n\n/**\n * @internal\n */\nexport interface Listener {\n  path: Path;\n  eventType: string;\n  callback: Function;\n}\n\nexport type EventListenerCallback = (snapshot: DataSnapshot, prevChildKey?: string) => any;\n\nexport const ServerValue = {\n  TIMESTAMP: {\n    '.sv': 'timestamp',\n  },\n};\n\nexport { Reference, DataSnapshot };\nexport { Query } from './query';\nexport { ThenableReference } from './reference';\nexport { OnDisconnect } from './on-disconnect';\n\n\n\n// WEBPACK FOOTER //\n// ./src/database/index.ts","import { ErrorCallback, SuccessCallback } from '../utils';\nimport { Database } from './index';\n\nexport class OnDisconnect {\n  constructor(private _db: Database, private _path: string) {\n\n  }\n\n  private _exec(success: SuccessCallback, error: ErrorCallback, action: string, args?: any[]) {\n    this._db._exec(success, error, `onDisconnect_${action}`, args);\n  }\n\n  set(value: any): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'set', [this._path, value]);\n    });\n  }\n\n  remove(): Promise<void> {\n    return this.set(null);\n  }\n\n  update(value: any): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'update', [this._path, value]);\n    });\n  }\n\n  cancel(): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'cancel', [this._path]);\n    });\n  }\n\n  setWithPriority(value: any, priority: number | string | null): Promise<void> {\n    return this.set({\n      '.value': value,\n      '.priority': priority,\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/database/on-disconnect.ts","import { ErrorCallback, getValueType, isInteger, SuccessCallback } from '../utils';\nimport { Database, EventListenerCallback } from './index';\nimport { Path } from './utils/path';\nimport { Reference } from './reference';\nimport { DataSnapshot } from './data-snapshot';\n\nexport class Query {\n  protected _path: Path;\n  protected _db: Database;\n  protected _options: { [k: string]: any };\n\n  constructor(query: Query, options: { [k: string]: any });\n  constructor(path: string | Path, db: Database);\n  constructor(pathOrQuery: string | Path | Query, _dbOrOptions?: Database | { [k: string]: any }) {\n    if (pathOrQuery instanceof Query) {\n      this._path = pathOrQuery._path;\n      this._db = pathOrQuery._db;\n      this._options = _dbOrOptions;\n      return;\n    }\n\n    this._path = (pathOrQuery instanceof Path) ? pathOrQuery : new Path(pathOrQuery);\n    this._db = <Database>_dbOrOptions;\n    this._options = {\n      _hasOrder: false,\n      startAt: {\n        value: void 0,\n        valueType: void 0,\n        key: void 0,\n      },\n      endAt: {\n        value: void 0,\n        valueType: void 0,\n        key: void 0,\n      },\n      equalTo: {\n        value: void 0,\n        valueType: void 0,\n        key: void 0,\n      },\n      limitToFirst: void 0,\n      limitToLast: void 0,\n      orderByKey: void 0,\n      orderByChild: void 0,\n      orderByPriority: false,\n      orderByValue: false,\n    };\n\n  }\n\n  protected _exec(success: SuccessCallback, error: ErrorCallback, action: string, args: any[]) {\n    this._db._exec(success, error, action, args);\n  }\n\n  get ref(): Reference {\n    return new Reference(this._path, this._db);\n  }\n\n  startAt(value: number | string | boolean | null, key?: string): Query {\n    if (this._options.startAt !== void 0) {\n      throw new Error('Query.startAt: either startAt or equalTo has already been set');\n    }\n\n    const valueType = getValueType(value);\n\n    if ((valueType !== 'number') && (valueType !== 'string') && (valueType !== 'boolean') && (valueType !== 'null')) {\n      throw new Error(`Query.startAt: value must be either a number, a string, or a boolean. \"${valueType}\" is not a valid type.`);\n    }\n\n    if (key !== void 0) {\n      if (typeof key !== 'string') {\n        throw new Error(`Query.startAt: key must be either a string`);\n      }\n    }\n\n    return new Query(this, {...this._options, startAt: {value, valueType, key}});\n  }\n\n  endAt(value: number | string | boolean | null, key?: string): Query {\n    if (this._options.endAt !== void 0) {\n      throw new Error('Query.endAt: either endAt or equalTo has already been set');\n    }\n\n    const valueType = getValueType(value);\n\n    if ((valueType !== 'number') && (valueType !== 'string') && (valueType !== 'boolean') && (valueType !== 'null')) {\n      throw new Error(`Query.endAt: value must be either a number, a string, or a boolean. \"${valueType}\" is not a valid type.`);\n    }\n\n    if (key !== void 0) {\n      if (typeof key !== 'string') {\n        throw new Error(`Query.endAt: key must be either a string`);\n      }\n    }\n\n    return new Query(this, {...this._options, endAt: {value, valueType, key}});\n  }\n\n  equalTo(value: number | string | boolean | null, key?: string): Query {\n    if ((this._options.startAt !== void 0) || (this._options.endAt !== void 0)) {\n      throw new Error('Query.equalTo: either startAt, endAt, or equalTo has already been set');\n    }\n\n    const valueType = getValueType(value);\n\n    if ((valueType !== 'number') && (valueType !== 'string') && (valueType !== 'boolean') && (valueType !== 'null')) {\n      throw new Error(`Query.equalTo: value must be either a number, a string, or a boolean. \"${valueType}\" is not a valid type.`);\n    }\n\n    if (key !== void 0) {\n      if (typeof key !== 'string') {\n        throw new Error(`Query.equalTo: key must be either a string`);\n      }\n    }\n\n    return new Query(this, {...this._options, equalTo: {value, valueType, key}});\n  }\n\n  limitToFirst(limit: number): Query {\n    if (!isInteger(limit)) {\n      throw new Error('Query.limitToFirst: value is not an integer');\n    }\n    return new Query(this, {...this._options, limitToFirst: [limit]});\n  }\n\n  limitToLast(limit: number): Query {\n    if (!isInteger(limit)) {\n      throw new Error('Query.limitToLast: value is not an integer');\n    }\n    return new Query(this, {...this._options, limitToLast: [limit]});\n  }\n\n  orderByKey(): Query {\n    if (this._options.hasOrder) {\n      throw new Error('Query.orderByKey: order has already been set');\n    }\n    return new Query(this, {...this._options, hasOrder: true, orderByKey: true});\n  }\n\n  orderByChild(path: string): Query {\n    if (this._options.hasOrder) {\n      throw new Error('Query.orderByChild: order has already been set');\n    }\n    if (typeof path !== 'string') {\n      throw new Error('Query.orderByChild: path needs to be a string');\n    }\n    return new Query(this, {...this._options, hasOrder: true, orderByChild: [path]});\n  }\n\n  orderByPriority(): Query {\n    if (this._options.hasOrder) {\n      throw new Error('Query.orderByPriority: order has already been set');\n    }\n    return new Query(this, {...this._options, hasOrder: true, orderByPriority: true});\n  }\n\n  orderByValue(): Query {\n    if (this._options.hasOrder) {\n      throw new Error('Query.orderByValue: order has already been set');\n    }\n    return new Query(this, {...this._options, hasOrder: true, orderByValue: true});\n  }\n\n  isEqual(query: Query): boolean {\n    return (this._db === query._db)\n      && (this._path.isEqual(query._path))\n      && (this._options.startAt.value === query._options.startAt.value)\n      && (this._options.startAt.valueType === query._options.startAt.valueType)\n      && (this._options.startAt.key === query._options.startAt.key)\n      && (this._options.endAt.value === query._options.endAt.value)\n      && (this._options.endAt.valueType === query._options.endAt.valueType)\n      && (this._options.endAt.key === query._options.endAt.key)\n      && (this._options.equalTo.value === query._options.equalTo.value)\n      && (this._options.equalTo.valueType === query._options.equalTo.valueType)\n      && (this._options.equalTo.key === query._options.equalTo.key)\n      && (this._options.limitToFirst === query._options.limitToFirst)\n      && (this._options.limitToLast === query._options.limitToLast)\n      && (this._options.hasOrder === query._options.hasOrder)\n      && (this._options.orderByKey === query._options.orderByKey)\n      && (this._options.orderByChild === query._options.orderByChild)\n      && (this._options.orderByPriority === query._options.orderByPriority)\n      && (this._options.orderByValue === query._options.orderByValue);\n  }\n\n  on(eventType: string, callback: EventListenerCallback, errorFn?: (err?: Error) => any): EventListenerCallback {\n    this._attachListener(false, eventType, callback, errorFn);\n    return callback;\n  }\n\n  once(eventType: string, callback?: EventListenerCallback, errorFn?: (err?: Error) => any): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const success: SuccessCallback = (value?: any) => {\n        if (typeof callback === 'function') {\n          callback(value);\n        }\n        resolve(value);\n      };\n\n      const error: ErrorCallback = (reason?: any) => {\n        if (typeof errorFn === 'function') {\n          errorFn(reason);\n        }\n        reject(reason);\n      };\n\n      this._attachListener(true, eventType, success, error);\n    });\n  }\n\n  private _attachListener(once: boolean = false, eventType: string = 'value', callback: EventListenerCallback, errorFn?: (err?: Error) => any) {\n    const listenerID = String(this._db._listenerCounter++);\n    this._addListener(listenerID, this._path, eventType, callback);\n\n    const success: SuccessCallback = (listenerEvent: ListenerEvent) => {\n      if (once) {\n        this._removeListener(listenerID);\n      }\n      const snapshot = new DataSnapshot(this._db, this._path, listenerEvent.value, listenerEvent.key);\n      callback(snapshot, listenerEvent.prevChildKey);\n    };\n\n    const error: ErrorCallback = (reason: any) => {\n      this._removeListener(listenerID);\n      if (typeof errorFn === 'function') {\n        errorFn(new Error(reason));\n      }\n    };\n\n    const queryOptions: { [k: string]: any } = {};\n\n    if (this._options.hasOrder) {\n      if (this._options.orderByValue) {\n        queryOptions.orderByValue = true;\n      } else if (this._options.orderByPriority) {\n        queryOptions.orderByPriority = true;\n      } else if (this._options.orderByChild !== void 0) {\n        queryOptions.orderByChild = this._options.orderByChild;\n      } else if (this._options.orderByKey) {\n        queryOptions.orderByKey = true;\n      }\n    }\n\n    if (this._options.limitToFirst !== void 0) {\n      queryOptions.limitToFirst = this._options.limitToFirst;\n    } else if (this._options.limitToLast !== void 0) {\n      queryOptions.limitToLast = this._options.limitToLast;\n    }\n\n    if (this._options.equalTo.value !== void 0) {\n      queryOptions.equalTo = this._options.equalTo;\n    } else {\n      if (this._options.startAt.value !== void 0) {\n        queryOptions.startAt = this._options.startAt;\n      }\n      if (this._options.endAt.value !== void 0) {\n        queryOptions.endAt = this._options.endAt;\n      }\n    }\n\n    this._exec(success, error, 'attachListener', [listenerID, once, this._path.toString(), eventType, queryOptions]);\n  }\n\n  off(eventType?: string, callback?: EventListenerCallback): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      let listenerIDs: string[];\n\n      if (eventType && callback) {\n        listenerIDs = [this._getListenerID(eventType, callback)];\n      } else {\n        listenerIDs = this._getListenerIDs(eventType, callback);\n      }\n\n      if (!listenerIDs || (listenerIDs.length === 0)) {\n        resolve();\n        return;\n      }\n\n      const success: SuccessCallback = () => {\n        listenerIDs.forEach(id => this._removeListener(id));\n        resolve();\n      };\n\n      this._exec(success, reject, 'removeListeners', [listenerIDs]);\n    });\n  }\n\n  keepSynced(keepSynced: boolean): Promise<void> {\n    return new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(() => resolve(), reject, 'keepSynced', [this._path.toString(), keepSynced]);\n    });\n  }\n\n  private _removeListener(id: string | null) {\n    if (id) {\n      delete this._db._listeners[id];\n    }\n  }\n\n  private _addListener(id: string, path: Path, eventType: string, callback: EventListenerCallback) {\n    this._db._listeners[id] = {path, eventType, callback};\n  }\n\n  private _getListenerID(eventType: string, callback: EventListenerCallback): string {\n    const keys = Object.keys(this._db._listeners);\n\n    for (let i = 0, l = keys.length; i < l; i++) {\n      const id = keys[i];\n      const listener = this._db._listeners[id];\n\n      if ((listener.path === this._path) && (listener.eventType === eventType) && (listener.callback === callback)) {\n        return id;\n      }\n    }\n\n    // Not found\n    return null;\n  }\n\n  private _getListenerIDs(eventType?: string, callback?: EventListenerCallback): string[] {\n    const keys = Object.keys(this._db._listeners);\n    const ids: string[] = [];\n\n    for (let i = 0, l = keys.length; i < l; i++) {\n      const id = keys[i];\n      const listener = this._db._listeners[id];\n\n      if (listener.path.isEqual(this._path)\n        && (!eventType || (listener.eventType === eventType))\n        && (!callback || (listener.callback === callback))) {\n        ids.push(id);\n      }\n    }\n\n    return ids;\n  }\n\n}\n\nexport interface ListenerEvent {\n  key?: string;\n  value: any;\n  prevChildKey?: string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/database/query.ts","export class Path {\n  private _parts: string[];\n\n  constructor(path: string | string[] = '') {\n    this._parts = typeof path === 'string' ? Path.getParts(path) : path;\n  }\n\n  get key(): string | null {\n    return this._parts.length ? this._parts[this._parts.length - 1] : null;\n  }\n\n  get parent() {\n    if (!this._parts.length)\n      return null;\n\n    return new Path(this._parts.slice(0, this._parts.length - 1));\n  }\n\n  get parts() {\n    return this._parts.slice(0);\n  }\n\n  child(path: string, skipCheck = false): Path {\n    return new Path([...this._parts, ...Path.getParts(path, skipCheck)]);\n  }\n\n  isEqual(otherPath: Path): boolean {\n    return otherPath && (this.toString() === otherPath.toString());\n  }\n\n  toString(): string {\n    return '/' + this._parts.join('/');\n  }\n\n  get length(): number {\n    return this._parts.length;\n  }\n\n  static getParts(path: string, skipCheck = false): string[] {\n    path = Path.normalize(path, skipCheck);\n\n    if (path === '')\n      return [];\n\n    return path.split('/');\n  }\n\n  static normalize(path: string, skipCheck = false): string {\n    if (!skipCheck && /[\\.\\#\\$\\[\\]]/.test(path)) {\n      throw new Error(`Invalid path: \"${path}\". Paths must be non-empty strings and can't contain \".\", \"#\", \"$\", \"[\", or \"]\"`);\n    }\n\n    return path.replace(/\\/\\/+/, '/').replace(/^\\//, '').replace(/\\/$/, '');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/database/utils/path.ts","import { SuccessCallback, ErrorCallback } from '../utils';\nimport { App } from '../app';\n\nexport class Messaging {\n  private static _instance: Messaging;\n\n  private constructor(private _app: App) {\n  }\n\n  static getInstance(app: App): Messaging {\n    if (!this._instance) {\n      this._instance = new Messaging(app);\n    }\n    return this._instance;\n  }\n\n  private _exec(success: SuccessCallback, error: ErrorCallback, action: string, args?: any[]) {\n    this._app._execWithoutName(success, error, `messaging_${action}`, args);\n  }\n\n  getToken(): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'getToken');\n    });\n  }\n\n  onNotificationOpen(callback: SuccessCallback, error: ErrorCallback): void {\n    this._exec(callback, error, 'onNotificationOpen');\n  }\n\n  onTokenRefresh(callback: SuccessCallback, error: ErrorCallback): void {\n    this._exec(callback, error, 'onTokenRefresh');\n  }\n\n  grantPermission(): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'grantPermission');\n    });\n  }\n\n  hasPermission(): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'hasPermission');\n    });\n  }\n\n  setBadgeNumber(number: number): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'setBadgeNumber', [number]);\n    });\n  }\n\n  getBadgeNumber(): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'getBadgeNumber');\n    });\n  }\n\n  subscribe(topic: string): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'subscribe', [topic]);\n    });\n  }\n\n  unsubscribe(topic: string): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'unsubscribe', [topic]);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/messaging/index.ts","import { SuccessCallback, ErrorCallback } from '../utils';\nimport { App } from '../app';\n\nexport class RemoteConfig {\n  private static _instance: RemoteConfig;\n\n  private constructor(private _app: App) {\n  }\n\n  static getInstance(app: App): RemoteConfig {\n    if (!this._instance) {\n      this._instance = new RemoteConfig(app);\n    }\n    return this._instance;\n  }\n\n  private _exec(success: SuccessCallback, error: ErrorCallback, action: string, args?: any[]) {\n    this._app._execWithoutName(success, error, `remoteConfig_${action}`, args);\n  }\n\n  activateFetched(resolve: SuccessCallback, reject: ErrorCallback): void {\n    this._exec(resolve, reject, 'activateFetched');\n  }\n\n  fetch(cacheExpirationSeconds?: number): Promise<any> {\n    const args: any[] = [];\n\n    if (typeof cacheExpirationSeconds === 'number') {\n      args.push(cacheExpirationSeconds);\n    }\n\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'fetch', args);\n    });\n  }\n\n  getByteArray(key: string, namespace?: string): Promise<any> {\n    const args: any[] = [key];\n\n    if (typeof namespace === 'string') {\n      args.push(namespace);\n    }\n\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'getByteArray', args);\n    });\n  }\n\n  getValue(key: string, namespace?: string): Promise<any> {\n    const args: any[] = [key];\n\n    if (typeof namespace === 'string') {\n      args.push(namespace);\n    }\n\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'getValue', args);\n    });\n  }\n\n  getInfo(): Promise<ConfigInfo> {\n    return new Promise<ConfigInfo>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'getInfo');\n    });\n  }\n\n  setConfigSettings(settings: ConfigSettings): Promise<any> {\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'setConfigSettings', [settings]);\n    });\n  }\n\n  setDefaults(defaults: ConfigDefaults, namespace?: string): Promise<any> {\n    const args: any[] = [defaults];\n\n    if (typeof namespace === 'string') {\n      args.push(namespace);\n    }\n\n    return new Promise<any>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      this._exec(resolve, reject, 'setDefaults', args);\n    });\n  }\n\n}\n\nexport interface ConfigSettings {\n  developerModeEnabled?: boolean;\n}\n\nexport interface ConfigDefaults {\n  [k: string]: any;\n}\n\nexport interface ConfigInfo {\n  configSettings: ConfigSettings;\n  fetchTimeMillis: number;\n  lastFetchStatus: number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-config/index.ts","import { App, AppOptions } from './app';\nimport { Auth } from './auth';\nimport { Database } from './database';\nimport { Analytics } from './analytics';\nimport { Messaging } from './messaging';\nimport { RemoteConfig } from './remote-config';\n\nconst apps: { [k: string]: App } = {};\nlet defaultApp: App;\n\nexport function app(name = App.DEFAULT_NAME) {\n  if (!apps.hasOwnProperty(name)) {\n    throw new Error(`There is no app named ${name}`);\n  }\n  return apps[name];\n}\n\nexport function initializeApp(options?: AppOptions, name = App.DEFAULT_NAME): App {\n  if ((name === void 0) && defaultApp) {\n    throw new Error('The default app has already been initialized');\n  }\n\n  const app = new App(options, name);\n\n  apps[name] = app;\n\n  if (name === App.DEFAULT_NAME) {\n    defaultApp = app;\n  }\n\n  return app;\n}\n\nexport function auth(): Auth {\n  if (!defaultApp) {\n    initializeApp();\n  }\n\n  return defaultApp.auth();\n}\n\nexport function database(): Database {\n  if (!defaultApp) {\n    initializeApp();\n  }\n\n  return defaultApp.database();\n}\n\nexport function analytics(): Analytics {\n  if (!defaultApp) {\n    initializeApp();\n  }\n\n  return defaultApp.analytics();\n}\n\nexport function messaging(): Messaging {\n  if (!defaultApp) {\n    initializeApp();\n  }\n\n  return defaultApp.messaging();\n}\n\nexport function remoteConfig(): RemoteConfig {\n  if (!defaultApp) {\n    initializeApp();\n  }\n\n  return defaultApp.remoteConfig();\n}\n\nexport {\n  Auth,\n  User,\n  UserInfo,\n  ActionCodeInfo,\n  AuthStateListener,\n  AuthCredential,\n  EmailAuthProvider,\n  FacebookAuthProvider,\n  GithubAuthProvider,\n  GoogleAuthProvider,\n  TwitterAuthProvider,\n} from './auth';\n\nexport {\n  Database,\n  DataSnapshot,\n  EventListenerCallback,\n  Query,\n  Reference,\n  ThenableReference,\n  OnDisconnect,\n} from './database';\n\nexport { Analytics, LogEventParams } from './analytics';\n\nexport { Messaging } from './messaging';\n\nexport { RemoteConfig, ConfigInfo, ConfigSettings, ConfigDefaults } from './remote-config';\n\nexport { ErrorCallback, SuccessCallback } from './utils';\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import { exec, ErrorCallback, SuccessCallback } from './utils';\nimport { Auth } from './auth';\nimport { Database } from './database';\nimport { Messaging } from './messaging';\nimport { Analytics } from './analytics';\nimport { RemoteConfig } from './remote-config';\n\nexport class App {\n  static DEFAULT_NAME = '[DEFAULT]';\n\n  private _ready = false;\n  private _authInstance: Auth;\n  private _databaseInstance: Database;\n  // private _storageInstance: Storage;\n\n  /**\n   * @internal\n   */\n  _whenReady: Promise<void>;\n\n  /**\n   * @internal\n   */\n  constructor(public options: AppOptions = {}, private _name = App.DEFAULT_NAME) {\n    this._whenReady = new Promise<void>((resolve: SuccessCallback, reject: ErrorCallback) => {\n      const callback = () => {\n        this._ready = true;\n        resolve();\n      };\n      exec(callback, reject, 'Firebase', 'initializeApp', [_name, options]);\n    }).catch((reason: any) => {\n      console.error(`Error initializing app ${_name}:`, reason);\n    });\n  }\n\n  /**\n   * @internal\n   */\n  _exec(success: SuccessCallback, error: ErrorCallback, action: string, args: any[] = []) {\n    this._whenReady.then(() => exec(success, error, 'Firebase', action, [this._name, ...args]));\n  }\n\n  /**\n   * @internal\n   */\n  _execWithoutName(success: SuccessCallback, error: ErrorCallback, action: string, args: any[] = []) {\n    this._whenReady.then(() => exec(success, error, 'Firebase', action, args));\n  }\n\n  get name(): string {\n    return this._name;\n  }\n\n  get isReady(): boolean {\n    return this._ready;\n  }\n\n  auth(): Auth {\n    if (!this._authInstance) {\n      this._authInstance = new Auth(this);\n    }\n    return this._authInstance;\n  }\n\n  database(): Database {\n    if (!this._databaseInstance) {\n      this._databaseInstance = new Database(this);\n    }\n    return this._databaseInstance;\n  }\n\n  // storage(url?: string): Storage {\n  //   if (!this._storageInstance) {\n  //     this._storageInstance = new Storage(this, url);\n  //   }\n  //   return this._storageInstance;\n  // }\n\n  analytics(): Analytics {\n    if (this._name !== App.DEFAULT_NAME) {\n      throw new Error('You can only use Analytics on the default app');\n    }\n    return Analytics.getInstance(this);\n  }\n\n  messaging(): Messaging {\n    if (this._name !== App.DEFAULT_NAME) {\n      throw new Error('You can only use Messaging on the default app');\n    }\n    return Messaging.getInstance(this);\n  }\n\n  remoteConfig(): RemoteConfig {\n    if (this._name !== App.DEFAULT_NAME) {\n      throw new Error('You can only use RemoteConfig on the default app');\n    }\n    return RemoteConfig.getInstance(this);\n  }\n\n  delete(): Promise<any> {\n    return new Promise<void>((resolve, reject) => {\n      this._exec(() => resolve(), (reason?: any) => reject(reason), 'deleteApp');\n    });\n  }\n\n}\n\nexport interface AppOptions {\n  apiKey?: string;\n  databaseURL?: string;\n  androidAppId?: string;\n  storageBucket?: string;\n  messagingSenderId?: string;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app.ts","export interface AuthCredential {\n  provider: string;\n\n  /**\n   * @internal\n   */\n  email?: string;\n\n  /**\n   * @internal\n   */\n  password?: string;\n\n  /**\n   * @internal\n   */\n  token?: string;\n\n  /**\n   * @internal\n   */\n  idToken?: string | null;\n\n  /**\n   * @internal\n   */\n  accessToken?: string | null;\n\n  /**\n   * @internal\n   */\n  secret?: string;\n}\n\nexport interface AuthProvider {\n  providerId: string;\n}\n\nexport class EmailAuthProvider implements AuthProvider {\n  static PROVIDER_ID = 'password';\n\n  static credential(email: string, password: string): AuthCredential {\n    return ({\n      provider: this.PROVIDER_ID,\n      email,\n      password\n    });\n  }\n\n  get providerId(): string {\n    return EmailAuthProvider.PROVIDER_ID;\n  }\n\n}\n\nexport class FacebookAuthProvider implements AuthProvider {\n  static PROVIDER_ID = 'facebook.com';\n\n  static credential(token: string): AuthCredential {\n    return ({\n      provider: this.PROVIDER_ID,\n      token\n    });\n  }\n\n  get providerId(): string {\n    return FacebookAuthProvider.PROVIDER_ID;\n  }\n\n  // addScope(scope: string): any {\n  //   throw new Error('Not implemented yet');\n  // }\n  //\n  // setCustomParameters(customOAuthParameters: Object): any {\n  //   throw new Error('Not implemented yet');\n  // }\n}\n\nexport class GithubAuthProvider implements AuthProvider {\n  static PROVIDER_ID: string = 'github.com';\n\n  static credential(token: string): AuthCredential {\n    return ({\n      provider: this.PROVIDER_ID,\n      token\n    });\n  }\n\n  get providerId(): string {\n    return GithubAuthProvider.PROVIDER_ID;\n  }\n\n  // addScope(scope: string): any {\n  //   throw new Error('Not implemented yet');\n  // }\n  //\n  // setCustomParameters(customOAuthParameters: Object): any {\n  //   throw new Error('Not implemented yet');\n  // }\n}\n\nexport class GoogleAuthProvider implements AuthProvider {\n  static PROVIDER_ID: string = 'google.com';\n\n  static credential(idToken?: string | null, accessToken?: string | null): AuthCredential {\n    if ((idToken === void 0) && (accessToken === void 0)) {\n      throw new Error('Both idToken and accessToken are optional but at least one must be present');\n    }\n\n    return ({\n      provider: this.PROVIDER_ID,\n      idToken,\n      accessToken\n    });\n  }\n\n  get providerId(): string {\n    return GoogleAuthProvider.PROVIDER_ID;\n  }\n\n  // addScope(scope: string): any {\n  //   throw new Error('Not implemented yet');\n  // }\n  //\n  // setCustomParameters(customOAuthParameters: Object): any {\n  //   throw new Error('Not implemented yet');\n  // }\n}\n\nexport class TwitterAuthProvider implements AuthProvider {\n  static PROVIDER_ID: string = 'twitter.com';\n\n  static credential(token: string, secret: string): AuthCredential {\n    return ({\n      provider: this.PROVIDER_ID,\n      token,\n      secret\n    });\n  }\n\n  get providerId(): string {\n    return TwitterAuthProvider.PROVIDER_ID;\n  }\n\n  // setCustomParameters(customOAuthParameters: Object): any {\n  //   throw new Error('Not implemented yet');\n  // }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/providers.ts","/**\n * The characters used to generate the push IDs.\n * See: https://gist.github.com/mikelehen/3596a30bd69384624c11\n */\nconst PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\n\nlet lastTime = 0;\nlet lastRandChars: number[] = [];\n\n/**\n * Based on the code provided by Michael Lehenbauer: https://gist.github.com/mikelehen/3596a30bd69384624c11\n * Also see: https://firebase.googleblog.com/2015/02/the-2120-ways-to-ensure-unique_68.html\n *\n * @param timeDiff\n * @returns {string}\n * @internal\n */\nexport function generatePushKey(timeDiff = 0): string {\n  let now = Date.now() - timeDiff;//this.db.timeDiff;\n  const isDuplicateTime = (now === lastTime);\n\n  lastTime = now;\n\n  const timeStampChars = new Array(8);\n\n  for (let i = 7; i >= 0; i--) {\n    timeStampChars[i] = PUSH_CHARS.charAt(now % 64);\n\n    // NOTE: Can't use << here because javascript will convert to int and lose the upper bits.\n    now = Math.floor(now / 64);\n  }\n\n  if (now !== 0)\n    throw new Error('generatePushId: We should have converted the entire timestamp.');\n\n  let id = timeStampChars.join('');\n\n  if (!isDuplicateTime) {\n    for (let i = 0; i < 12; i++) {\n      lastRandChars[i] = Math.floor(Math.random() * 64);\n    }\n  } else {\n    // If the timestamp hasn't changed since last push, use the same random number, except incremented by 1.\n    let i;\n    for (i = 11; (i >= 0) && (lastRandChars[i] === 63); i--) {\n      lastRandChars[i] = 0;\n    }\n\n    lastRandChars[i]++;\n  }\n\n  for (let i = 0; i < 12; i++) {\n    id += PUSH_CHARS.charAt(lastRandChars[i]);\n  }\n\n  if (id.length != 20)\n    throw new Error('generatePushKey: Length should be 20.');\n\n  return id;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/database/utils/push-key.ts","module.exports = require(\"cordova/exec\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cordova/exec\"\n// module id = 18\n// module chunks = 0"],"sourceRoot":""}